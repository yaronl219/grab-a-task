(this["webpackJsonpgrab-a-task"]=this["webpackJsonpgrab-a-task"]||[]).push([[0],{125:function(e,t,a){"use strict";a.r(t),t.default={loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},saveToStorage:function(e,t){localStorage[e]=JSON.stringify(t)}}},218:function(e,t,a){"use strict";a.r(t),a.d(t,"cardService",(function(){return s}));var n=a(2),r=a.n(n),o=a(6),c=a(51),i=a(23),s={addCard:function(e,t,a){return l.apply(this,arguments)},createImage:function(e){return{type:"img",id:c.a.makeId(),src:e,title:"Image",createdAt:Date.now()}}};function l(){return(l=Object(o.a)(r.a.mark((function e(t,a,n){var o,s,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=JSON.parse(JSON.stringify(t)),s={id:c.a.makeId(),title:a,description:"",archivedAt:null,members:[],labels:[],createdAt:Date.now(),dueDate:null,attachments:null,timeAnalysis:{timeInGroupsMap:{},currGroup:{groupId:n,enteredAt:Date.now()}},byMember:{}},o.groups.map((function(e){return e.id===n?(e.cards.push(s),e):e})),l={txt:"create this card",commentTxt:"",card:{id:s.id,title:a}},u=i.a.createActivity(l),o.activities||(o.activities=[]),o.activities.push(u),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},23:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(2),r=a.n(n),o=a(6),c=a(13),i=a(32),s=a(29),l=a(51),u={add:function(e){return p.apply(this,arguments)},query:function(e){var t=e?l.a.createQueryString(e):"";return i.a.get("board".concat(t))},remove:function(e){return i.a.delete("board/".concat(e))},getBoardById:d,updateBoard:m,filter:function(e,t){return b.apply(this,arguments)},addNewBoard:function(e,t,a){return g.apply(this,arguments)},createActivity:function(e){var t=s.default.getLoggedInUser(),a={id:l.a.makeId(),txt:e.txt,commentTxt:e.commentTxt,createdAt:Date.now(),byMember:{_id:t._id,fullName:t.fullName,imgUrl:t.imgUrl}};e.card&&(a.card={id:e.card.id,title:e.card.title});e.group||(a.group=Object(c.a)({},e.group));return a},archiveBoard:function(e){return h.apply(this,arguments)},getCardTitleById:function(e,t){var a;return t.groups.forEach((function(t){return t.cards.forEach((function(t){t.id===e&&(a=t.title)}))})),a}};function d(e){return i.a.get("board/".concat(e))}function p(){return(p=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("board",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._id,e.next=3,i.a.put("board/".concat(a),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("archive board service"),e.next=3,d(t);case 3:return(a=e.sent).isArchived=!0,e.next=7,m(a);case 7:return e.abrupt("return",Promise.resolve(t));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(o.a)(r.a.mark((function e(t,a){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return n=e.sent,a.txt&&(n.groups=n.groups.map((function(e){var t=Object(c.a)({},e);return t.cards=t.cards.filter((function(e){return e.title.toLowerCase().includes(a.txt)})),t}))),a.labels&&a.labels.length&&(o=a.labels,n.groups=n.groups.map((function(e){var t=Object(c.a)({},e);return t.cards=t.cards.filter((function(e){if(e.labels&&e.labels.find((function(e){var t=e.id;if(t===o.find((function(e){return e===t})))return e})))return e})),t}))),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(o.a)(r.a.mark((function e(t,a,n){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={title:t,isArchived:!1,createdAt:Date.now,description:"Board's description",labels:[{id:"l101",name:"Default",color:"green"},{id:"l102",name:"Default",color:"yellow"},{id:"l103",name:"Default",color:"orange"},{id:"l104",name:"Default",color:"red"},{id:"l105",name:"Default",color:"purple"},{id:"l106",name:"Default",color:"blue"}],activities:[],createdBy:{_id:"u101",fullName:"Abi Abambi",imgUrl:"http://some-img"},style:{fontClr:"#f9f9f9",bgImg:null,boardColor:a},members:[{_id:"u101",fullName:"Abi Abambi",imgUrl:"http://some-img"}],groups:[{id:l.a.makeId(),title:"Add New Card Title",description:"description",archivedAt:!1,labels:[],cards:[]}]},console.log(o),e.next=4,i.a.post("board",o);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},29:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(6),c=a(125),i=a(32),s={login:function(e){return u.apply(this,arguments)},logout:function(){return f.apply(this,arguments)},signup:function(e){return m.apply(this,arguments)},getUsers:function(){return c.default.query("user")},getById:function(e){return i.a.get("user/".concat(e))},remove:function(e){return c.default.remove("user",e)},update:function(e){return i.a.put("user/".concat(e._id),e)},loginDefault:function(){if(!p()){h({_id:"u900",userName:"Guest",fullName:"Guesty guest",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/41v4Cc8iZ-L._AC_.jpg"})}},getLoggedInUser:p,getUserDetails:function(){return l.apply(this,arguments)},getUsersFromDb:function(){return d.apply(this,arguments)},updateUserInLocalStorage:function(e){h(e)}};function l(){return(l=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p(),e.abrupt("return",i.a.get("user/details/".concat(t._id)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("auth/login",t);case 2:return a=e.sent,sessionStorage.setItem("user",JSON.stringify(a)),e.abrupt("return",h(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("user"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return c.default.loadFromStorage("user")}function m(){return(m=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("auth/signup",t);case 2:return a=e.sent,sessionStorage.setItem("user",JSON.stringify(a)),e.abrupt("return",h(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return localStorage.setItem("user",JSON.stringify(e)),e}t.default=s},32:function(e,t,a){"use strict";var n=a(2),r=a.n(n),o=a(6),c=a(325),i=a.n(c).a.create({withCredentials:!0});function s(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(r.a.mark((function e(t){var a,n,o,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"get",n=c.length>2?c[2]:void 0,e.prev=2,e.next=5,i({url:"".concat("/api/").concat(t),method:a,data:n});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}t.a={get:function(e,t){return s(e,"GET",t)},post:function(e,t){return s(e,"POST",t)},put:function(e,t){return s(e,"PUT",t)},delete:function(e,t){return s(e,"DELETE",t)}}},361:function(e,t){e.exports="data:image/png;base64,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"},362:function(e,t){e.exports="data:image/png;base64,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"},382:function(e,t,a){e.exports=a(830)},389:function(e,t,a){},51:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={getUniqueHeaders:function(e,t){var a=[];return e.forEach((function(e){a.includes(e[t])||a.push(e[t])})),a},getRandomColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t="#";t+=o(e);for(var a="0123456789abcdef",n=0;n<3;n++)t+=a.charAt(r(a.length));return t},getRandomInteger:r,makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},createQueryString:function e(t){var a=Object.keys(t).map((function(a){var n=t[a];return"object"===typeof n&&(n=e(n)),"".concat(a,"=").concat(encodeURIComponent("".concat(n).replace(/\s/g,"_")))})).join("&"),n=new URLSearchParams(a);return"?".concat(n.toString())}};function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(e-t))+t}function o(e){return Math.round(e/100*255).toString(16)}},712:function(e,t){},735:function(e,t){e.exports="data:image/png;base64,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"},830:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),i=a(15),s=a(67),l=a(35),u=a(13),d=a(9),p=a(10),m=a(12),f=a(11),h=(a(389),a(24)),b=a(2),g=a.n(b),v=a(6),E=a(880),y=a(905),C=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imgUrl:null},e.testImage=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=!1,o=new Image;o.onerror=o.onabort=function(){r||(clearTimeout(a),t(e,"error"))},o.onload=function(){r||(clearTimeout(a),t(e,"success"))},o.src=e,a=setTimeout((function(){r=!0,o.src="//!!!!/test.jpg",t(e,"timeout")}),n)},e.setImgResult=function(t,a){"success"===a&&e.setState({imgUrl:t})},e.getStyle=function(){return e.state.imgUrl?{backgroundImage:"url(".concat(e.props.imgUrl,")")}:{}},e.getName=function(){return e.props.name?e.props.name:""},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.testImage(this.props.imgUrl,this.setImgResult)}},{key:"getInitials",value:function(e){if(e){var t=e.split(" ");return t[0].charAt(0).toUpperCase()+t[1].charAt(0).toUpperCase()}}},{key:"render",value:function(){return r.a.createElement(y.a,{title:this.getName()},r.a.createElement("div",{className:"member-preview",style:this.getStyle()},this.state.imgUrl?r.a.createElement(r.a.Fragment,null):this.getInitials(this.props.name)))}}]),a}(n.Component),w=a(878),O=a(75),A=a.n(O),k=a(23);function N(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.getBoardById(e);case 3:n=t.sent,a({type:"SET_BOARD",board:n}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log("boardAction: error in board action",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function S(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,(r=JSON.parse(JSON.stringify(e))).activities||(r.activities=[]),r.activities.unshift(t),n({type:"SET_BOARD",board:r}),a.next=7,k.a.updateBoard(r);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("error removing board",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}function D(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(r){var o,c,i,s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=JSON.parse(JSON.stringify(e)),c=o.groups.findIndex((function(e){return e.cards.find((function(e){return e.id===t.id}))})),i=o.groups[c].cards.findIndex((function(e){return e.id===t.id})),o.groups[c].cards[i]=t,a&&(s=k.a.createActivity(a),o.activities.unshift(s)),r({type:"SET_BOARD",board:o}),n.next=9,k.a.updateBoard(o);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("error updating card",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}function j(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=JSON.parse(JSON.stringify(e)),t.id=F(),r.labels||(r.labels=[]),r.labels.push(t),n({type:"SET_BOARD",board:r}),a.next=8,k.a.updateBoard(r);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log("error adding label",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}function B(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,o;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=JSON.parse(JSON.stringify(e)),o=r.labels.findIndex((function(e){return e.id===t})),r.labels.splice(o,1),n({type:"SET_BOARD",board:r}),a.next=7,k.a.updateBoard(r);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("error removing label",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}function x(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,(r=JSON.parse(JSON.stringify(e))).labels=r.labels.map((function(e){return e.id===t.id&&(e=t),e})),n({type:"SET_BOARD",board:r}),a.next=6,k.a.updateBoard(r);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error updating label",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}function U(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.a.filter(e._id,t);case 3:r=a.sent,n({type:"FILTER_BY",filterBy:t}),n({type:"SET_BOARD",board:r}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error setting filter group",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}function T(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=JSON.parse(JSON.stringify(e)),a({type:"SET_BOARD",board:n}),t.next=5,k.a.updateBoard(n);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error updating board",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function M(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_STYLE",style:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function L(){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_DEFAULT_STYLE"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function F(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}var P=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchLetters:""},e.toggleUser=function(t){e.props.members.find((function(e){return e._id===t._id}))?e.props.removeMember(t._id,e.props.board):e.props.addToMembers(t,e.props.board)},e.getMembers=function(t){return e.props.members.find((function(e){return e._id===t}))},e.handleChange=function(t){var a=t.target.value;e.setState({searchLetters:a})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.members,n=t.allExistingUsers;return a?r.a.createElement(w.a,{onClickAway:this.props.onCloseModal},r.a.createElement("div",{className:"add-member-modal"},r.a.createElement("h3",null,"Members"),r.a.createElement("input",{type:"search",onChange:this.handleChange,name:"search-member",id:"",autoCorrect:"off",autoComplete:"off"}),r.a.createElement("div",{className:"add-members-container"},this.state.searchLetters?n.map((function(t){if(t.fullName.toLowerCase().includes(e.state.searchLetters.toLocaleLowerCase()))return r.a.createElement("div",{key:t._id,className:"member-container",onClick:function(){return e.toggleUser(t)}},r.a.createElement(C,{name:t.fullName}),r.a.createElement("p",null,t.fullName),e.getMembers(t._id)&&r.a.createElement("div",null,r.a.createElement(A.a,null)))})):n.map((function(t){return r.a.createElement("div",{key:t._id,className:"member-container",onClick:function(){return e.toggleUser(t)}},r.a.createElement(C,{name:t.fullName}),r.a.createElement("p",null,t.fullName),e.getMembers(t._id)&&r.a.createElement("div",null,r.a.createElement(A.a,null)))}))))):r.a.createElement("div",null,"loading")}}]),a}(n.Component),I={addToMembers:function(e,t){var a=e._id,n=e.fullName,r=e.imgUrl;return function(){var e=Object(v.a)(g.a.mark((function e(o){var c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={_id:a,fullName:n,imgUrl:r},(i=JSON.parse(JSON.stringify(t))).members.unshift(c),o({type:"SET_BOARD",board:i}),e.next=6,k.a.updateBoard(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},removeMember:function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,o;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=JSON.parse(JSON.stringify(t)),o=r.members.findIndex((function(t){return t._id===e})),r.members.splice(o,1),n({type:"SET_BOARD",board:r}),a.next=6,k.a.updateBoard(r);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},R=Object(i.b)((function(e){return{board:e.boardReducer.board,members:e.boardReducer.board.members,allUsers:e.userReducer.users}}),I)(P),G=(a(406),function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isModalShown:!1},e.onShowModal=function(){e.setState({isModalShown:!0})},e.onCloseModal=function(){e.setState({isModalShown:!1})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.members;return t?r.a.createElement("div",{className:"members-container"},r.a.createElement("div",{className:"member-preview add-member-btn",onClick:function(){return e.onShowModal()}},"+"),r.a.createElement("div",{className:"add-member-modal-container"},this.state.isModalShown&&r.a.createElement(R,{onCloseModal:this.onCloseModal,allExistingUsers:this.props.allUsers})),t.map((function(e){return r.a.createElement(C,{key:e._id,name:e.fullName,imgUrl:e.imgUrl})}))):r.a.createElement("h4",null,"loading")}}]),a}(n.Component)),z=a(879),Q=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.isChecked;return r.a.createElement("div",{className:"label-inner-container",onClick:function(){return e.props.onFilterByLabel(e.props.id)}},r.a.createElement("div",{className:"label ".concat(this.props.color)}),this.props.name?r.a.createElement("p",null,this.props.name):r.a.createElement("p",null,"Deafult"),t&&r.a.createElement("div",null,r.a.createElement(A.a,null)))}}]),a}(n.Component),W=a(832),J=a(907),q=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onFilterByLabel=function(t){if(!e.props.currFilter||!e.props.currFilter.filterBy.txt){var a=[];if(e.props.currFilter&&e.props.currFilter.filterBy.labels){var n=(a=Object(l.a)(e.props.currFilter.filterBy.labels)).findIndex((function(e){return e===t}));-1!==n?a.splice(n,1):-1===n&&a.push(t)}else a.push(t);e.props.onSetFilterBy(e.props.board,{labels:a})}},e.onResetFilter=function(){e.props.onSetFilterBy(e.props.board,{labels:[]})},e}return Object(p.a)(a,[{key:"isChecked",value:function(e){if(this.props.currFilter&&this.props.currFilter.filterBy.labels)return-1!==Object(l.a)(this.props.currFilter.filterBy.labels).findIndex((function(t){return t===e}))}},{key:"render",value:function(){var e=this,t=this.props.board.labels;return r.a.createElement(w.a,{onClickAway:this.props.toggleModal},r.a.createElement("div",{className:"label-filter"},r.a.createElement("div",{className:"labels-header"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("h6",null,"Labels")),r.a.createElement(W.a,{onClick:this.props.onClose},r.a.createElement(J.a,null))),r.a.createElement("div",{className:"labels-container"},r.a.createElement("div",{className:"label-inner-container",onClick:function(){return e.onResetFilter()}},r.a.createElement("div",{className:"label grey"}),r.a.createElement("p",null,"No labels")),t.map((function(t){return r.a.createElement(Q,{name:t.name,color:t.color,id:t.id,key:t.id,onFilterByLabel:e.onFilterByLabel,isChecked:e.isChecked(t.id)})})))))}}]),a}(n.Component),V={onSetFilterBy:U},Y=Object(i.b)((function(e){return{board:e.boardReducer.board,currFilter:e.boardReducer.filterBy}}),V)(q),H=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isLabelModalShown:!1},e.ref=r.a.createRef(),e.handleChange=function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target,t.next=3,e.setState({search:{txt:n.value}});case 3:e.props.onFilter(e.state.search);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleLabel=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.openModal=function(){e.setState({isLabelModalShown:!0})},e.closeModal=function(){e.setState({isLabelModalShown:!1})},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-filter-container"},r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"search",id:"search",autoCorrect:"off",autoComplete:"off",className:"search-bar",onChange:this.handleChange}),r.a.createElement("div",{className:"search-icon-container"},r.a.createElement("span",{className:"material-icons"},"search"))),r.a.createElement("div",{className:"board-header-btn filter-btn",ref:this.ref,onClick:this.openModal},r.a.createElement("span",{className:"material-icons"},"sort")),r.a.createElement(z.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:this.state.isLabelModalShown,anchorEl:this.ref.current,onClose:this.closeModal,onBackdropClick:this.closeModal},r.a.createElement(Y,{onClose:this.closeModal,toggleModal:this.closeModal}))))}}]),a}(n.Component),Z=a(29);function K(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.default.login(e);case 3:n=t.sent,a({type:"SET_USER",loggedInUser:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("no such user");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}var X=a(330),_=a.n(X),$=a(331),ee=a.n($),te=a(881),ae=a(125).default,ne={onLoad:function(e){re(e)||oe(e)},getUpdated:re,setUpdated:oe};function re(e){var t=ae.loadFromStorage("lastUpdated");return t&&t[e]?t[e]:null}function oe(e){var t=ae.loadFromStorage("lastUpdated");return t||(t={}),t[e]=Date.now(),ae.saveToStorage("lastUpdated",t)}var ce=a(176);function ie(e){var t=e.boardId,a=e.displayMode,n=e.activities;return n?(n&&n.length>15&&(n=n.slice(0,14)),r.a.createElement("ul",{className:"activity-log"},n.map((function(e){return r.a.createElement("li",{key:e.id},"user"!==a?r.a.createElement(C,{name:e.byMember.fullName,imgUrl:e.byMember.imgUrl}):r.a.createElement(r.a.Fragment,null),r.a.createElement("pre",null,r.a.createElement("div",null,"user"===a?r.a.createElement(r.a.Fragment,null):t?r.a.createElement(s.b,{to:"/board/".concat(t)},e.byMember.fullName+" "):"".concat(e.byMember.fullName," "),r.a.createElement("span",null,e.commentTxt?"commented:":e.txt+" "),e.commentTxt&&r.a.createElement("div",{className:"comment-txt"},e.commentTxt),"card"!==a&&r.a.createElement("span",null,"in ",t?r.a.createElement(s.b,{to:"/board/".concat(t,"/").concat(e.card.id,"/")},e.card.title):"".concat(e.card.title))),r.a.createElement("span",{className:"time-ago"},ce.a(e.createdAt))))})))):r.a.createElement("div",null,r.a.createElement(E.a,null))}var se=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:!1,isRinging:!1,newActivities:[]},e.ref=r.a.createRef(),e.onOpen=function(){e.setState({isOpen:!0}),ne.setUpdated(e.props.board._id)},e.onClose=function(){ne.setUpdated(e.props.board._id),e.setState({isOpen:!1,newActivities:[]})},e.getIsRinging=function(){return e.state.isRinging?r.a.createElement("div",{className:"bell"},r.a.createElement(_.a,null)):r.a.createElement("div",{className:"silent-bell"},r.a.createElement(ee.a,null))},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.lastUpdate!==this.props.lastUpdate&&this.receiveUpdate(),e.board._id!==this.props.board._id&&ne.onLoad(this.props.board._id),t.newActivities.length!==this.state.newActivities.length&&this.state.newActivities.length&&this.ringBell(3e3)}},{key:"receiveUpdate",value:function(){for(var e=this.props.board.activities,t=[],a=ne.getUpdated(this.props.board._id),n=Z.default.getLoggedInUser(),r=0;r<e.length&&!(e[r].createdAt<=a);r++){e[r].byMember._id!==n._id&&t.push(e[r])}this.setState({newActivities:t})}},{key:"ringBell",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;this.setState({isRinging:!0}),setTimeout((function(){e.setState({isRinging:!1})}),t)}},{key:"getNotificationPreview",value:function(){return this.state.newActivities&&this.state.newActivities.length?r.a.createElement("div",{className:"activity-log-container"},r.a.createElement(ie,{activities:this.state.newActivities,boardId:this.props.board._id})):r.a.createElement("div",{className:"notifications-empty-state-container"},"You're all caught up!")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:this.ref,onClick:this.onOpen,className:"notification board-header-btn"},r.a.createElement(te.a,{max:9,badgeContent:this.state.isOpen||!this.state.newActivities?0:this.state.newActivities.length,color:"error"},this.getIsRinging())),r.a.createElement(z.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.isOpen,anchorEl:this.ref.current,onClose:this.onClose,onBackdropClick:this.onClose},r.a.createElement("div",{className:"notification-preview"},r.a.createElement("div",{className:"notification-preview-header"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("h6",null,"Notifications")),r.a.createElement(W.a,{onClick:this.onClose},r.a.createElement(J.a,null))),this.getNotificationPreview())))}}]),a}(n.Component),le=a(332),ue=a.n(le),de=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadAllUsers();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"boards-header-container"},r.a.createElement("h3",null,this.props.title),r.a.createElement("div",{className:"members-container"},r.a.createElement(G,{members:this.props.members,allUsers:this.props.allUsers})),r.a.createElement(H,{onFilter:this.props.onFilter}),r.a.createElement(se,{board:this.props.board,lastUpdate:this.props.lastUpdate}),r.a.createElement("div",{className:"board-header-btn show-menu",onClick:function(){return e.props.onToggleSidebar(!0)}},r.a.createElement(ue.a,null),r.a.createElement("p",null,"Show Menu")))}}]),a}(n.Component),pe={loadAllUsers:function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.default.getUsersFromDb();case 2:a=e.sent,t({type:"SET_USERS",users:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},me=Object(i.b)((function(e){return{board:e.boardReducer.board,allUsers:e.userReducer.users}}),pe)(de),fe=a(882),he=a(902),be=a(333),ge=a.n(be);function ve(e){if(!e.dueDate)return r.a.createElement(r.a.Fragment,null);var t=(e.dueDate-Date.now())/1e3/60/60/24,a=new Date(e.dueDate),n=a.toLocaleString("en-US",{month:"short"}),o=a.getDate(),c="".concat(n," ").concat(o);if(Math.abs(t)>365){var i=a.getFullYear();c+=", ".concat(i)}if(e.displayTime){var s=a.toLocaleTimeString();c+=" at ".concat(s)}var l="card-preview-due-date-container card-preview-due-date-container-";switch(!0){case t>7:l+="long";break;case t>3:l+="near";break;case t>=0:l+="close";break;default:l+="overdue"}return r.a.createElement("div",{className:l},r.a.createElement(ge.a,{fontSize:"inherit"}),c)}var Ee=a(334),ye=a.n(Ee),Ce=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={date:null,isPopperOpen:!1,anchor:null},e.setDefaultDate=function(){e.setState({date:e.props.dueDate})},e.openModal=function(){e.setState({isPopperOpen:!0})},e.closeModal=function(){e.setState({isPopperOpen:!1})},e.onSetDueDate=function(t){var a=t.target.value,n=new Date(a).getTime();e.setState({date:n})},e.submitDueDate=function(){e.props.onUpdateDueDate(e.state.date)},e.onRemoveDueDate=function(t){e.setState({date:null},e.submitDueDate),e.closeModal()},e.getDisplayDateBtn=function(){return e.props.displayDate?r.a.createElement("div",{onClick:e.openModal,ref:e.anchor,className:"set-due-date-expanded"},r.a.createElement(ve,{dueDate:e.state.date,displayTime:e.props.displayTime})):r.a.createElement(fe.a,{className:"set-due-date-btn",onClick:e.openModal,ref:e.anchor},r.a.createElement(ye.a,null),r.a.createElement("span",null,"Set Due Date"))},e.parseDate=function(){var t=new Date(e.state.date);e.state.date||(t=new Date(Date.now()));var a=t.getFullYear(),n=[a,t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes()];return n=n.map((function(e){return 1===(e=e.toString()).length&&(e="0".concat(e)),e})),"".concat(a,"-").concat(n[1],"-").concat(n[2],"T").concat(n[3],":").concat(n[4])},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.anchor=r.a.createRef(),this.setState({anchor:this.anchor}),this.setDefaultDate()}},{key:"componentDidUpdate",value:function(e,t){if(e.dueDate!==this.props.dueDate)return this.setDefaultDate()}},{key:"render",value:function(){return this.state.anchor?r.a.createElement("div",{className:"due-date-container"},this.getDisplayDateBtn(),this.state.anchor.current?r.a.createElement(z.a,{anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.isPopperOpen,anchorEl:this.state.anchor.current,onClose:this.closeModal,onBackdropClick:this.closeModal},r.a.createElement("form",{noValidate:!0},r.a.createElement(he.a,{onBlur:this.submitDueDate,onChange:this.onSetDueDate,id:"datetime-local",label:"Set Due Date",type:"datetime-local",value:this.parseDate(),InputLabelProps:{shrink:!0}})),r.a.createElement("div",{className:"remove-date-btn-container"},r.a.createElement("button",{className:"cancel-btn",onClick:this.onRemoveDueDate},"Remove Due Date"))):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),we=a(51),Oe=a(104),Ae=a.n(Oe),ke=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isEditing:!1,txtValue:""},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.onChange=function(t){e.setState({txtValue:t.target.value})},e.onSubmit=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.state.txtValue){t.next=3;break}return t.abrupt("return",e.setNotEditing());case 3:n={id:we.a.makeId(),title:e.state.txtValue,todos:[]},r="added the checklist ".concat(e.state.txtValue),e.props.onUpdate(n,r),e.setState({txtValue:""}),e.setNotEditing();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getNewChecklistDisplay=function(){return e.state.isEditing?r.a.createElement("form",{className:"new-checklist-form",onBlur:e.setNotEditing,onSubmit:e.onSubmit},r.a.createElement("input",{type:"text",autoFocus:!0,value:e.state.txtValue,onChange:e.onChange}),r.a.createElement("button",{className:"save-btn",onMouseDown:e.onSubmit},"Save")):r.a.createElement(fe.a,{onClick:e.setEditing},r.a.createElement(Ae.a,null),r.a.createElement("span",null,"New Checklist"))},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.getNewChecklistDisplay())}}]),a}(n.Component),Ne=a(105),Se=a.n(Ne),De=a(166),je=a.n(De),Be=a(167),xe=a.n(Be),Ue=a(341),Te=a.n(Ue),Me=a(340),Le=a.n(Me),Fe=a(336),Pe=a.n(Fe),Ie=a(338),Re=a.n(Ie),Ge=a(339),ze=a.n(Ge),Qe=a(337),We=a.n(Qe),Je=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).ref=r.a.createRef(),e.copyRef=r.a.createRef(),e.state={isOpen:!1},e.onOpen=function(){e.setState({isOpen:!0})},e.onClose=function(){e.setState({isOpen:!1})},e.copyToClipboard=function(){e.copyRef.current.select(),document.execCommand("copy")},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.item,t=this.props.path;return r.a.createElement("div",{ref:this.ref},r.a.createElement(fe.a,{onClick:this.onOpen},r.a.createElement(Pe.a,null),r.a.createElement("span",null,"Share")),r.a.createElement(z.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.isOpen,anchorEl:this.ref.current,onClose:this.onClose,onBackdropClick:this.onClose},r.a.createElement("div",{className:"share-container"},r.a.createElement("div",{className:"header"},r.a.createElement("div",null),r.a.createElement("h4",null,"Share this ",e),r.a.createElement(W.a,{onClick:this.onClose},r.a.createElement(J.a,null))),r.a.createElement("div",{className:"link"},r.a.createElement("input",{ref:this.copyRef,type:"text",readOnly:!0,value:t})),r.a.createElement("div",{className:"share-btns-container"},r.a.createElement(y.a,{title:"Whatsapp"},r.a.createElement(W.a,{className:"whatsapp",onClick:function(){window.open("whatsapp://send?text=".concat(t))}},r.a.createElement(We.a,null))),r.a.createElement(y.a,{title:"Mail"},r.a.createElement(W.a,{className:"mail",onClick:function(){window.open("mailto:?subject=Check out this ".concat(e,"&amp;body=").concat(t))}},r.a.createElement(Re.a,null))),r.a.createElement(y.a,{title:"Copy to clipboard"},r.a.createElement(W.a,{className:"copy",onClick:this.copyToClipboard},r.a.createElement(ze.a,null)))))))}}]),a}(n.Component);function qe(e){return r.a.createElement("div",{className:"card-sidebar"},r.a.createElement(fe.a,{ref:e.anchorRef,onClick:e.toggleCoverSelector},r.a.createElement(Le.a,null),r.a.createElement("span",null,"Cover")),r.a.createElement(Ce,{dueDate:e.dueDate,onUpdateDueDate:e.onUpdateDueDate}),r.a.createElement(fe.a,{onClick:e.onArchiveCard},r.a.createElement(Se.a,null)," ",r.a.createElement("span",null,"Archive Card")),r.a.createElement(fe.a,{onClick:e.toggleLabelPallete},r.a.createElement(je.a,null),r.a.createElement("span",null,"Labels")),r.a.createElement(fe.a,{ref:e.anchorRef,onClick:e.toggleDisplayMembers},r.a.createElement(xe.a,null),r.a.createElement("span",null,"Members")),e.isUploading?r.a.createElement(fe.a,{disabled:!0},r.a.createElement(E.a,{size:"14px"})):r.a.createElement(fe.a,{onClick:e.toggleUploadDropzone},r.a.createElement(Te.a,null),r.a.createElement("span",null,"Upload Image")),r.a.createElement(ke,{addActivity:e.addActivity,onUpdate:e.onUpdateChecklists}),r.a.createElement(Je,{item:"card",path:window.location.href}))}var Ve=a(65),Ye=a.n(Ve),He=a(168),Ze=a.n(He),Ke=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={description:"",isEditing:!1},e.setDescriptionFromProps=function(){var t=e.props.description;t||(t=""),e.setState({description:t})},e.onChange=function(t){var a=t.target.value;e.setState({description:a})},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.onSave=function(){e.props.onUpdateDesc(e.state.description),e.setNotEditing()},e.getDescriptionTxt=function(){return e.state.description?e.state.description:"Add a more detailed description\u2026"},e.getIsEditing=function(){return e.state.isEditing?r.a.createElement("div",{className:"item-details-description-text-edit-container"},r.a.createElement("textarea",{value:e.state.description,autoFocus:!0,onChange:e.onChange,onBlur:e.onSave,placeholder:"Enter a more details description here..."}),r.a.createElement("button",{onClick:e.onSave,className:"save-btn"},"Save")):r.a.createElement("pre",{className:"item-details-description-text-display",onClick:e.setEditing},e.getDescriptionTxt())},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setDescriptionFromProps()}},{key:"render",value:function(){return r.a.createElement("div",{className:"item-details-description"},r.a.createElement(Ze.a,null),r.a.createElement("div",null,r.a.createElement("h3",null,"Description"),this.getIsEditing()))}}]),a}(n.Component),Xe=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={txt:"",isEditing:!1},e.onChangeText=function(t){var a=t.target.value;e.setState({txt:a})},e.onSubmit=function(t){t.preventDefault(),e.state.txt&&(e.setNotEditing(),e.props.onUpdate(e.state.txt))},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.getIsEditing=function(){return e.state.isEditing?r.a.createElement("form",{onBlur:e.setNotEditing,onSubmit:e.onSubmit},r.a.createElement("input",{name:"header",type:"text",autoFocus:!0,value:e.state.txt,onChange:e.onChangeText})):r.a.createElement("div",{onClick:e.setEditing},r.a.createElement("h2",null,e.state.txt))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.headerTxt;this.setState({txt:e})}},{key:"render",value:function(){return r.a.createElement("div",null,this.getIsEditing())}}]),a}(n.Component);function _e(e){if(!e.cardLabels||!e.boardLabels)return r.a.createElement(r.a.Fragment,null);return r.a.createElement("div",{className:"card-preview-labels"},e.cardLabels.map((function(t,a){return r.a.createElement("div",{onClick:e.onClickLabel,key:a}," ",function(t){var a=e.boardLabels.find((function(e){return e.id===t.id}));return e.preview?e.isFull?r.a.createElement("div",{className:"card-preview-full-label ".concat(a.color)},r.a.createElement("div",null,a.name),r.a.createElement("div",{className:"card-preview-label-mask"})):r.a.createElement("div",{className:"card-preview-collapsed-label ".concat(a.color)},r.a.createElement("div",{className:"card-preview-label-mask"})):r.a.createElement("div",{className:"card-details-label ".concat(a.color)},r.a.createElement("div",{className:"card-details-mask"},a.name))}(t)," ")})))}var $e=a(886),et=a(887),tt=a(888),at=a(889),nt=a(890),rt=a(891),ot=a(904),ct=a(106),it=a.n(ct),st=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isDone:!1,isEditing:!1,txtValue:"",isNew:!1},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.removeText=function(){e.setState({txtValue:""})},e.getNewTodoDisplay=function(){return e.state.isEditing?r.a.createElement("form",{onBlur:e.setNotEditing,onSubmit:e.onSubmit},r.a.createElement("input",{className:"checkbox-text-edit",type:"text",autoFocus:!0,value:e.state.txtValue,onChange:e.onChange}),r.a.createElement("button",{className:"save-btn",type:"submit"},"Save")):r.a.createElement(fe.a,{className:"checklist-add-todo",onClick:e.setEditing},"Add an item")},e.getTodoClassName=function(){var t=e.state.isDone?"todo-done":"todo-not-done";return"checklist-todo-title ".concat(t)},e.getTextBox=function(){return e.state.isEditing?r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,{checked:e.state.isDone,onChange:e.onCheck,className:"checkbox-todo"}),r.a.createElement("form",{onBlur:e.setNotEditing,onSubmit:e.onSubmit},r.a.createElement("input",{className:"checkbox-text-edit",type:"text",autoFocus:!0,value:e.state.txtValue,onChange:e.onChange}),r.a.createElement("button",{className:"save-btn",type:"submit"},"Save"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,{checked:e.state.isDone,onChange:e.onCheck,className:"checkbox-todo"}),r.a.createElement("div",{className:e.getTodoClassName(),onClick:e.setEditing},e.state.txtValue,r.a.createElement(fe.a,{onClick:e.onRemove},r.a.createElement(it.a,{fontSize:"inherit"}))))},e.onSubmit=function(t){t.preventDefault(),e.updateChecklist()},e.updateTodo=function(){var t=e.props.todo;if(t){var a=t.title,n=t.isDone;e.setState({isDone:n,txtValue:a})}},e.onChange=function(t){e.setState({txtValue:t.target.value})},e.onCheck=function(t){var a=t.target.checked;e.setState({isDone:a},(function(){e.updateChecklist()}))},e.getActivityTxt=function(){return e.state.isDone?"completed ".concat(e.state.txtValue):"marked ".concat(e.state.txtValue," incomplete")},e.onRemove=function(t){t.stopPropagation(),e.setState({txtValue:""},e.updateChecklist)},e.updateChecklist=function(){var t={id:e.props.todo?e.props.todo.id:we.a.makeId(),isDone:e.state.isDone,title:e.state.txtValue},a=e.getActivityTxt();e.state.isNew?(e.props.onUpdate(t),e.setState({txtValue:""})):e.props.onUpdate(t,a)},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.title===this.props.title&&e.isDone===this.props.isDone||this.updateTodo()}},{key:"componentDidMount",value:function(){this.props.isNew&&this.setState({isNew:!0}),this.updateTodo()}},{key:"render",value:function(){return!this.props.displayCompleted&&this.state.isDone?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"checklist-todo"},this.state.isNew?this.getNewTodoDisplay():this.getTextBox())}}]),a}(n.Component),lt=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={tasksCompleted:0,totalTasks:0,displayCompleted:!0,showDialog:!1},e.setTasksStatus=function(){var t=0,a=0;e.props.checklist.todos.forEach((function(e){e.isDone&&(t+=1),a+=1})),e.setState({tasksCompleted:t,totalTasks:a})},e.toggleDisplayCompleted=function(){return e.state.displayCompleted?e.setState({displayCompleted:!1}):e.setState({displayCompleted:!0})},e.getDisplayCheckedBtn=function(){return e.state.tasksCompleted?(t=e.state.displayCompleted?"Hide Completed Items":"Show Checked Items (".concat(e.state.tasksCompleted,")"),r.a.createElement(fe.a,{onClick:e.toggleDisplayCompleted},t)):r.a.createElement(r.a.Fragment,null);var t},e.onRemoveChecklist=Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=Object(u.a)({},e.props.checklist)).title="",n="removed ".concat(e.props.checklist.title),e.props.onUpdate(a,n),e.closeDialog();case 5:case"end":return t.stop()}}),t)}))),e.openDialog=function(){e.setState({showDialog:!0})},e.closeDialog=function(){e.setState({showDialog:!1})},e.getPercentCompleted=function(){return Math.round(e.state.tasksCompleted/e.state.totalTasks*100)},e.onUpdateChecklist=function(t,a){var n=Object(l.a)(e.props.checklist.todos),r=n.findIndex((function(e){return e.id===t.id}));t.title?r<0?n.push(t):n[r]=t:n.splice(r,1);var o=Object(u.a)({},e.props.checklist);o.todos=n,e.props.onUpdate(o,a)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setTasksStatus()}},{key:"componentDidUpdate",value:function(e,t){this.props.checklist!==e.checklist&&this.setTasksStatus()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"checklist"},r.a.createElement("div",{className:"checklist-title-container"},r.a.createElement(Ae.a,null),r.a.createElement("div",{className:"checklist-title"},this.props.checklist.title),r.a.createElement("div",{className:"checklist-title-btns"},this.getDisplayCheckedBtn(),r.a.createElement(fe.a,{onClick:this.openDialog},"Remove"))),this.state.totalTasks?r.a.createElement("div",{className:"checklist-progress"},r.a.createElement("div",{className:"checklist-progress-numbers"},"%",this.getPercentCompleted()),r.a.createElement($e.a,{value:this.getPercentCompleted(),variant:"determinate"})):r.a.createElement(r.a.Fragment,null),r.a.createElement("main",{className:"checklist-main"},this.props.checklist.todos.map((function(t){return r.a.createElement(st,{key:t.id,displayCompleted:e.state.displayCompleted,todo:t,onUpdate:e.onUpdateChecklist})})),r.a.createElement(st,{isNew:!0,onUpdate:this.onUpdateChecklist})),r.a.createElement(et.a,{onClose:this.closeDialog,open:this.state.showDialog},r.a.createElement(tt.a,{id:"alert-dialog-title"},"Remove this checklist?"),r.a.createElement(at.a,null,r.a.createElement(nt.a,{id:"alert-dialog-description"},"Deleting a checklist is permanent and there is no way to get it back.")),r.a.createElement(rt.a,null,r.a.createElement(fe.a,{onClick:this.closeDialog,color:"primary"},"Disagree"),r.a.createElement(fe.a,{onClick:this.onRemoveChecklist,color:"primary",autoFocus:!0},"Agree"))))}}]),a}(n.Component);function ut(e){return e.checklists&&e.checklists.length?r.a.createElement("div",{className:"checklists-container"},e.checklists.map((function(t){return r.a.createElement(lt,{key:t.id,checklist:t,addActivity:e.addActivity,onUpdate:e.onUpdate})}))):r.a.createElement(r.a.Fragment,null)}var dt=a(350),pt=a.n(dt),mt=a(906),ft=a(892),ht=a(893),bt=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isEditing:!1,txtValue:""},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.onChange=function(t){e.setState({txtValue:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.state.txtValue&&(e.props.onAddComment(e.state.txtValue),e.setNotEditing(),e.setState({txtValue:""}))},e.onBlur=function(){if(!e.state.txtValue)return e.setNotEditing()},e.onSave=function(t){e.setNotEditing(),e.onSubmit(t)},e.getNewCommentDisplay=function(){return e.state.isEditing?r.a.createElement("div",{className:"add-comment-editing-container"},r.a.createElement("form",{onBlur:e.onBlur,onSubmit:e.onSubmit},r.a.createElement("input",{className:"add-comment-input",type:"text",placeholer:"Write a comment...",autoFocus:!0,value:e.state.txtValue,onChange:e.onChange}))):r.a.createElement("div",{className:"add-comment-editing-closed"},"Write a comment...")},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"editing-section-container"},r.a.createElement(mt.a,{expanded:this.state.isEditing,onClick:this.setEditing,classes:{expanded:"editing-container-expanded",root:"editing-container-collapsed"}},r.a.createElement(ft.a,{"aria-controls":"panel1a-content",id:"panel1a-header"},this.getNewCommentDisplay()),r.a.createElement(ht.a,null,r.a.createElement("div",null,r.a.createElement("button",{className:"save-btn",disabled:!this.state.txtValue.length,onClick:this.onSave},"Save")))))}}]),a}(n.Component),gt=a(171),vt=a.n(gt),Et=a(126),yt=a.n(Et),Ct=a(170),wt=a.n(Ct);function Ot(e){var t=e.label,a=e.action,n=e.setLabelEditId,o=e.onRemoveLabel;e.card;return r.a.createElement("div",{className:"label-edit-modal"},r.a.createElement(W.a,{className:"close-modal",size:"small",onClick:function(){return n()}},r.a.createElement(wt.a,null)),r.a.createElement("form",{onSubmit:function(e){return a(e,t)}},r.a.createElement("input",{type:"text",name:"labelName",defaultValue:t?t.name:"",placeholder:"Enter label's name..."}),r.a.createElement("div",{className:"color-pallete"},["green","yellow","orange","red","purple","blue","grey","black"].map((function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement("input",{required:!0,hidden:!0,type:"radio",id:e,name:"newColor",value:e,defaultChecked:t?e===t.color:"grey"}),r.a.createElement("label",{htmlFor:e},r.a.createElement("div",{className:"color-picker ".concat(e)})))}))),r.a.createElement("div",{className:"save-cancel-btns"},r.a.createElement("button",{className:"save-btn"},"Save"),t&&r.a.createElement("button",{className:"cancel-btn",onClick:function(){return o(t.id)}},"Delete"))))}var At=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={labelEditId:null},e.setLabelEditId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.setState({labelEditId:t})},e.onAddLabel=function(t){t.preventDefault();var a={name:t.target.labelName.value,color:t.target.newColor.value};e.props.addLabel(e.props.board,a),e.setLabelEditId()},e.onEditLabel=function(t,a){t.preventDefault();var n=t.target.labelName.value,r=t.target.newColor.value,o=Object(u.a)(Object(u.a)({},a),{},{name:n,color:r});e.props.updateLabel(e.props.board,o),e.setLabelEditId()},e.onRemoveLabel=function(t){e.props.removeLabel(e.props.board,t),e.setLabelEditId()},e.onToggleLabelToCard=function(t,a){var n=t.labels.findIndex((function(e){return e.id===a}));t.labels=-1===n?[].concat(Object(l.a)(t.labels),[{id:a}]):[].concat(Object(l.a)(t.labels.slice(0,n)),Object(l.a)(t.labels.slice(n+1)));var r=e.props.createActivity("updated a label");e.props.updateCard(e.props.board,t,r)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.board,n=t.card;return r.a.createElement("ul",{className:"label-palette"},a.labels&&a.labels.map((function(t){return r.a.createElement("li",{key:t.id,className:"label"},r.a.createElement("div",{className:"label-color ".concat(t.color),onClick:n?function(){return e.onToggleLabelToCard(n,t.id)}:function(){return e.setLabelEditId(e.state.labelEditId===t.id?null:t.id)}},r.a.createElement("span",{className:"label-text"},t.name),n&&n.labels.find((function(e){return e.id===t.id}))&&r.a.createElement(A.a,{fontSize:"small"})),r.a.createElement(W.a,{className:"edit-label-btn",onClick:function(){return e.setLabelEditId(e.state.labelEditId===t.id?null:t.id)}},r.a.createElement(vt.a,{fontSize:"small"})),!n&&r.a.createElement(W.a,{className:"remove-label-btn",onClick:function(){return e.onRemoveLabel(t.id)}},r.a.createElement(yt.a,{fontSize:"small"})),e.state.labelEditId===t.id&&r.a.createElement(Ot,{label:t,action:e.onEditLabel,onRemoveLabel:e.onRemoveLabel,setLabelEditId:e.setLabelEditId}))})),r.a.createElement("li",{className:"label add-label"},r.a.createElement("div",{className:"label-color add-label",onClick:function(){return e.setLabelEditId("addLabel"===e.state.labelEditId?null:"addLabel")}},"Create a new label"),"addLabel"===this.state.labelEditId&&r.a.createElement(Ot,{action:this.onAddLabel,setLabelEditId:this.setLabelEditId})))}}]),a}(n.Component),kt={addLabel:j,updateLabel:x,removeLabel:B,updateCard:D},Nt=Object(i.b)((function(e){return{board:e.boardReducer.board}}),kt)(At),St=a(908);function Dt(e){var t,a=e.boardMember.fullName.split(" ").map((function(e){return e[0]}));return t=!(!e.cardMembers||!e.cardMembers.length)&&Boolean(e.cardMembers.find((function(t){return t._id===e.boardMember._id}))),r.a.createElement("div",{onClick:function(){e.toggleMember(e.boardMember,!t)},className:"board-member"},r.a.createElement(St.a,null,a),r.a.createElement("div",null,e.boardMember.fullName),t?r.a.createElement(A.a,null):r.a.createElement("div",{style:{width:"24px"}}))}var jt=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={boardMembers:[],filter:""},e.filterBoardMembers=function(){var t=e.props.boardMembers;t&&(t=t.filter((function(t){return t.fullName.toLowerCase().includes(e.state.filter.toLowerCase())})),e.setState({boardMembers:t}))},e.onChange=function(t){e.setState({filter:t.target.value})},e.onSelectBoardMember=function(t,a){var n="",r=Object(u.a)({},e.props.card);r.members||(r.members=[]),a?(r.members.push(t),n="added ".concat(t.fullName)):(r.members=r.members.filter((function(e){return e._id!==t._id})),n="removed ".concat(t.fullName)),e.props.updateCardMembers(r,n)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.filterBoardMembers()}},{key:"componentDidUpdate",value:function(e,t){e.boardMembers===this.props.boardMembers&&e.card.members===this.props.card.members&&t.filter===this.state.filter||this.filterBoardMembers()}},{key:"render",value:function(){var e=this;return this.state.boardMembers?r.a.createElement("div",null,r.a.createElement(z.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"},open:!0,anchorEl:this.props.anchorEl.current,onClose:this.props.toggleList,onBackdropClick:this.props.toggleList},r.a.createElement("div",{className:"card-members-list"},r.a.createElement("div",{className:"card-members-list-header"},r.a.createElement("div",null,"Members"),r.a.createElement(Ye.a,{onClick:this.props.toggleList})),r.a.createElement("input",{type:"text",value:this.state.filter,onChange:this.onChange,className:"filter"}),r.a.createElement("div",{className:"board-members"},r.a.createElement("h5",null,"Board Members"),this.state.boardMembers.map((function(t){return r.a.createElement(Dt,{key:t._id,boardMember:t,cardMembers:e.props.card.members,toggleMember:e.onSelectBoardMember})})))))):r.a.createElement(E.a,null)}}]),a}(n.Component),Bt={uploadImg:function(e){return xt.apply(this,arguments)}};function xt(){return(xt=Object(v.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"dyslqd6pn",a="https://api.cloudinary.com/v1_1/".concat("dyslqd6pn","/image/upload"),n=new FormData,console.log(t),n.append("file",t),n.append("upload_preset","ld9rlgmy"),e.prev=6,e.next=9,fetch(a,{method:"POST",body:n});case 9:return r=e.sent,e.next=12,r.json();case 12:return o=e.sent,e.abrupt("return",o.secure_url);case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}var Ut=a(369),Tt=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={item:null},e.uploadImg=function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setUploading();case 2:return t.next=4,Bt.uploadImg(a);case 4:n=t.sent,e.setState({item:n},e.submitImage);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.submitImage=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.item){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.props.onAddImage(e.state.item);case 4:e.setState({item:null});case 5:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"handleChange",value:function(e){this.uploadImg(e[0])}},{key:"render",value:function(){var e=this;return r.a.createElement(Ut.a,{acceptedFiles:["image/*"],cancelButtonText:"cancel",submitButtonText:"submit",maxFileSize:512e3,open:this.props.isOpen,onClose:function(){return e.props.toggleOpen()},onSave:function(t){e.handleChange(t),e.props.toggleOpen()},showPreviews:!0,showFileNamesInPreview:!1})}}]),a}(n.Component),Mt=a(218),Lt=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isEditing:!1,att:null,title:""},e.updateAttFromProps=function(){var t=Object(u.a)({},e.props.attachment),a=e.props.attachment.title;e.setState({att:t,title:a})},e.setEditing=function(t){return t?e.setState({isEditing:!0}):e.setState({isEditing:!1})},e.onChange=function(t){e.setState({title:t.target.value})},e.onRemove=function(t){e.setState({title:""},(function(){e.updateCard().then((function(){e.setState({att:null})}))}))},e.onSubmit=function(t){t.preventDefault(),e.updateCard()},e.updateCard=function(){return new Promise((function(t){var a=Object(u.a)({},e.state.att);a.title=e.state.title,e.props.onUpdate(a),e.setEditing(!1),t()}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.updateAttFromProps()}},{key:"componentDidUpdate",value:function(e,t){this.props.attachment!==e.attachment&&this.updateAttFromProps(),this.state.att,t.att}},{key:"render",value:function(){var e=this,t=this.state.att;return t?r.a.createElement("div",{className:"card-attachment"},r.a.createElement("div",{className:"att-image",style:{backgroundImage:"url(".concat(t.src,")")}}),r.a.createElement("div",{className:"att-details-container"},r.a.createElement("div",{className:"att-title"},this.state.isEditing?r.a.createElement("form",{onSubmit:this.onSubmit,onBlur:function(){e.setEditing(!1)}},r.a.createElement("input",{autoFocus:!0,onChange:this.onChange,type:"text",value:this.state.title,required:!0})):r.a.createElement("h5",{onClick:function(){e.setEditing(!0)}},this.state.title)),r.a.createElement("div",{className:"att-date-added"},ce.a(t.createdAt))),r.a.createElement("div",{className:"att-remove"},r.a.createElement(W.a,{onClick:this.onRemove},r.a.createElement(it.a,null)))):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component);function Ft(e){return e.attachments?r.a.createElement("div",{className:"card-attachments-container"},e.attachments.map((function(t){return r.a.createElement(Lt,{key:t.id,onUpdate:e.onUpdate,attachment:t})}))):r.a.createElement(r.a.Fragment,null)}var Pt=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={cover:null},e.setCoverFromProps=function(){var t=e.props.card.cover;t||(t={id:null,value:null}),e.setState({cover:t})},e.colors=[{id:101,value:"#f9f9f9"},{id:102,value:"#F2D600"},{id:103,value:"#FF9F1A"},{id:104,value:"#f9f9f9"},{id:105,value:"#EB5A46"},{id:106,value:"#C377E0"},{id:107,value:"#028ad8"},{id:108,value:"#a7a7a7"}],e.onSelectCover=function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={id:a.id,color:a.value,src:a.src},e.setState({cover:n},e.props.onUpdate(n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRemoveCover=function(){e.setState({cover:null},(function(){console.log(e.state.cover),e.props.onUpdate(e.state.cover)}))},e.getImageEls=function(){var t=e.props.card.attachments;if(!t)return r.a.createElement(r.a.Fragment,null);var a=t.map((function(t){var a="single-image-choice";return e.state.cover.id===t.id&&(a+=" selected"),r.a.createElement("div",{key:t.id,className:a,onClick:function(){return e.onSelectCover(t)},style:{backgroundImage:"url(".concat(t.src,")")}})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",null,"Images"),r.a.createElement("div",{className:"image-choice"},a))},e.getColorEls=function(){return e.colors.map((function(t){var a="color-choice";return e.state.cover.id===t.id&&(a+=" selected"),r.a.createElement("div",{key:t.id,className:a,onClick:function(){return e.onSelectCover(t)},style:{backgroundColor:t.value}})}))},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){this.setCoverFromProps()}},{key:"render",value:function(){return this.state.cover?r.a.createElement(z.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"},open:!0,anchorEl:this.props.anchorEl.current,onClose:this.props.toggleList,onBackdropClick:this.props.toggleList},r.a.createElement("div",{className:"cover-selector-container"},r.a.createElement("div",{className:"cover-selector-header"},r.a.createElement("h5",null,"Cover"),r.a.createElement(J.a,{onClick:this.props.toggleList})),r.a.createElement("div",{className:"cover-selector-colors"},r.a.createElement("h6",null,"Colors"),r.a.createElement("div",{className:"color-selection"},this.getColorEls())),r.a.createElement("div",{className:"cover-selector-images"},this.getImageEls()),r.a.createElement("div",{className:"cover-remove-container"},r.a.createElement("button",{className:"cancel-btn",onClick:this.onRemoveCover},"Remove Container")))):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),It=a(61),Rt=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={groupId:null,groupName:"",card:null,commentsOnly:!1,isLabelPaletteShowing:!1,isCardMemeberShown:!1,isUploadZoneOpen:!1,isUploading:!1,isCoverSelectorShown:!1},e.ref=r.a.createRef(),e.getCardDetails=function(){var t=!1;e.props.board.groups.forEach((function(a){a.cards.forEach((function(n){if(n.id===e.props.cardId){var r=a.id,o=a.title;return t=!0,void e.setState({groupId:r,groupName:o,card:n})}}))})),t||(It.b.error("Oops! we seem to be missing the card you're looking for.",{position:"bottom-right",autoClose:3500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){e.props.history.push("/board/".concat(e.props.board._id))}),1e3))},e.onCloseCard=function(){e.props.history.push("/board/".concat(e.props.boardId))},e.toggleCommentsOnly=function(){return e.state.commentsOnly?e.setState({commentsOnly:!1}):e.setState({commentsOnly:!0})},e.toggleLabelPalette=function(){e.setState({isLabelPaletteShowing:!e.state.isLabelPaletteShowing})},e.toggleDisplayMembers=function(){return e.state.isCardMemeberShown?e.setState({isCardMemeberShown:!1}):e.setState({isCardMemeberShown:!0})},e.toggleUploadDropzone=function(){return e.state.isUploadZoneOpen?e.setState({isUploadZoneOpen:!1}):e.setState({isUploadZoneOpen:!0})},e.toggleCoverSelector=function(){return e.state.isCoverSelectorShown?e.setState({isCoverSelectorShown:!1}):e.setState({isCoverSelectorShown:!0})},e.getLabels=function(){var t=e.state.card.labels;return t&&t.length?r.a.createElement("div",{className:"card-details-label-container"},r.a.createElement("h5",null,"Labels"),r.a.createElement(_e,{onClickLabel:e.openEditLabelsModal,cardLabels:t,boardLabels:e.props.board.labels,preview:!1})):r.a.createElement(r.a.Fragment,null)},e.createActivity=function(t){var a={txt:t,commentTxt:"",card:{id:e.state.card.id,title:e.state.card.title}};return k.a.createActivity(a)},e.onArchiveCard=Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(u.a)({},e.state.card)).archivedAt=Date.now(),n=e.createActivity("archived"),t.next=5,e.submitCard(a,n);case 5:e.onCloseCard();case 6:case"end":return t.stop()}}),t)}))),e.onUpdateDueDate=function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=Object(u.a)({},e.state.card)).dueDate=a,e.setState({card:n},Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.createActivity("updated due date"),t.next=3,e.submitCard(n,a);case 3:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onAddComment=function(t){var a={txt:"",commentTxt:t,card:{id:e.state.card.id,title:e.state.card.title}},n=k.a.createActivity(a);e.props.addActivity(e.props.board,n)},e.onUpdateHeader=function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=Object(u.a)({},e.state.card)).title=a,e.setState({card:n},Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.createActivity("updated the title"),e.submitCard(n,a);case 2:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getCardDetailsMembers=function(){var t=e.state.card.members;if(!t||!t.length)return r.a.createElement(r.a.Fragment,null);var a=t.map((function(e,t){return r.a.createElement(C,{key:100+t,name:e.fullName,imgUrl:e.imgUrl})}));return r.a.createElement("div",{className:"card-details-members"},r.a.createElement("h5",null,"Members"),r.a.createElement("div",null,a))},e.submitCard=function(t,a){return new Promise((function(n){e.props.updateCard(e.props.board,t,a).then((function(){return n()}))}))},e.onUpdateCardMembers=function(){var t=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({card:a},Object(v.a)(g.a.mark((function t(){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.createActivity(n),t.next=3,e.submitCard(a,r);case 3:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.onUpdateCover=function(t){var a=Object(u.a)({},e.state.card);a.cover=t,e.setState({card:a},Object(v.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.createActivity("updated the cover"),e.submitCard(a,n);case 2:case"end":return t.stop()}}),t)}))))},e.onUpdateDesc=function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=Object(u.a)({},e.state.card)).description=a,e.setState({card:n},Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.createActivity("updated the description"),e.submitCard(n,a);case 2:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setUploading=function(){return new Promise((function(t){e.setState({isUploading:!0},t(!0))}))},e.onAddImage=function(t){var a=Mt.cardService.createImage(t),n=Object(u.a)({},e.state.card);n.attachments||(n.attachments=[]),n.attachments.push(a);var r=e.createActivity("added an image");e.setState({card:n},Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.submitCard(n,r);case 2:e.setState({isUploading:!1});case 3:case"end":return t.stop()}}),t)}))))},e.onUpdateAttachments=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(u.a)({},e.state.card),r=n.attachments.findIndex((function(e){return e.id===a.id})),a.title.length?n.attachments[r]=a:n.attachments.splice(r,1),o=a.title.length?e.createActivity("edited the title of an image"):e.createActivity("removed an image"),e.setState({card:n},(function(){e.submitCard(n,o)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onUpdateChecklists=function(t,a){var n=Object(u.a)({},e.state.card);n.checklists||(n.checklists=[]),n.checklists.findIndex((function(e){return e.id===t.id}))>=0?n.checklists=n.checklists.map((function(e){return e.id===t.id?t:e})):n.checklists.push(t),n.checklists=n.checklists.filter((function(e){if(e.title)return e})),e.setState({card:n},(function(){if(a){var t=e.createActivity(a);e.submitCard(n,t)}else e.submitCard(n)}))},e.getFilteredActivities=function(){var t=e.state.card,a=e.props.board.activities;if(!a)return[];var n=a.filter((function(e){return e.card.id===t.id}));return e.state.commentsOnly&&(n=n.filter((function(e){if(e.commentTxt.length)return e}))),n},e.getCardCover=function(){var t=e.state.card.cover;return t?t.src?r.a.createElement("div",{className:"card-details-cover-image",style:{backgroundImage:"url(".concat(t.src,")")}}):r.a.createElement("div",{className:"card-details-cover-color",style:{backgroundColor:t.color}}):r.a.createElement(r.a.Fragment,null)},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.cardId!==this.props.cardId&&this.getCardDetails()}},{key:"componentDidMount",value:function(){var e=this;this.props.board&&!Object.keys(!this.props.board)||this.props.loadBoard(this.props.boardId).then((function(){return e.getCardDetails()}))}},{key:"render",value:function(){var e=this.state.card;return e?r.a.createElement("div",{className:"card-details-background"},r.a.createElement("div",{className:"card-details-container"},this.getCardCover(),r.a.createElement("div",{className:"close-button"},r.a.createElement(W.a,{onClick:this.onCloseCard,"aria-label":"close"},r.a.createElement(Ye.a,null))),r.a.createElement("div",{className:"card-details-header-container"},r.a.createElement("div",{className:"card-details-title-container"},r.a.createElement(Xe,{headerTxt:e.title,onUpdate:this.onUpdateHeader}),r.a.createElement("small",null,"in list ",r.a.createElement("span",null,this.state.groupName)))),r.a.createElement("div",{className:"card-details-attrs"},this.getCardDetailsMembers(),this.getLabels(),r.a.createElement("div",null,this.state.card.dueDate?r.a.createElement("h5",null,"Due Date"):r.a.createElement(r.a.Fragment,null),r.a.createElement(Ce,{onUpdateDueDate:this.onUpdateDueDate,dueDate:e.dueDate,displayDate:!0,displayTime:!0}))),r.a.createElement("section",null,r.a.createElement("main",{className:"card-details-main"},r.a.createElement(Ke,{onUpdateDesc:this.onUpdateDesc,description:e.description}),r.a.createElement(Ft,{onUpdate:this.onUpdateAttachments,attachments:this.state.card.attachments}),r.a.createElement(ut,{checklists:e.checklists,onUpdate:this.onUpdateChecklists}),r.a.createElement(Tt,{onAddImage:this.onAddImage,setUploading:this.setUploading,toggleOpen:this.toggleUploadDropzone,isOpen:this.state.isUploadZoneOpen})),r.a.createElement("aside",{className:"card-details-sidebar",ref:this.ref},r.a.createElement(qe,{anchorRef:this.ref,addActivity:this.createActivity,isUploading:this.state.isUploading,toggleCoverSelector:this.toggleCoverSelector,toggleUploadDropzone:this.toggleUploadDropzone,toggleDisplayMembers:this.toggleDisplayMembers,dueDate:e.dueDate,toggleLabelPallete:this.toggleLabelPalette,onUpdateDueDate:this.onUpdateDueDate,onArchiveCard:this.onArchiveCard,onUpdateChecklists:this.onUpdateChecklists}))),r.a.createElement("div",{className:"card-details-activity-log"},r.a.createElement("div",{className:"card-details-activities-title"},r.a.createElement(pt.a,null),r.a.createElement("h5",null,"Activities"),r.a.createElement(fe.a,{onClick:this.toggleCommentsOnly},this.state.commentsOnly?"Show Details":"Hide Details")),r.a.createElement(bt,{onAddComment:this.onAddComment}),r.a.createElement(ie,{boardId:this.props.board._id,displayMode:"card",activities:this.getFilteredActivities()}))),r.a.createElement(z.a,{anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"left"},open:this.state.isLabelPaletteShowing,anchorEl:this.ref.current,onClose:this.toggleLabelPalette,onBackdropClick:this.toggleLabelPalette},r.a.createElement(Nt,{createActivity:this.createActivity,card:e})),this.state.isCardMemeberShown&&r.a.createElement(jt,{updateCardMembers:this.onUpdateCardMembers,anchorEl:this.ref,toggleList:this.toggleDisplayMembers,boardMembers:this.props.board.members,card:this.state.card,cardMembers:e.members}),this.state.isCoverSelectorShown&&r.a.createElement(Pt,{card:this.state.card,anchorEl:this.ref,onUpdate:this.onUpdateCover,toggleList:this.toggleCoverSelector})):r.a.createElement("div",{className:"card-details-background"},r.a.createElement("div",{className:"card-details-container"},r.a.createElement("div",{className:"circular-progress-container"},r.a.createElement(E.a,null))))}}]),a}(n.Component),Gt={loadBoard:N,switchGroup:function(){},updateCard:D,addActivity:S},zt=Object(i.b)((function(e){return{board:e.boardReducer.board}}),Gt)(Object(i.b)(h.f)(Rt)),Qt=a(352),Wt=a.n(Qt),Jt=a(351),qt=a.n(Jt),Vt=a(353),Yt=a.n(Vt),Ht=a(76),Zt=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:!1,offsetTop:null,offsetLeft:null,width:null,txtValue:"",isMemberListOpen:!1},e.ref=r.a.createRef(),e.submitCard=function(t,a){return new Promise((function(n){e.props.updateCard(e.props.board,t,a).then((function(){e.onClose()}))}))},e.onClose=function(){e.props.onClose()},e.createActivity=function(t){var a=e.props.props.card,n={txt:t,commentTxt:"",card:{id:a.id,title:a.title}};return k.a.createActivity(n)},e.onUpdateDueDate=function(t){var a=Object(u.a)({},e.props.props.card);a.dueDate=t;var n=e.createActivity("updated due date");e.submitCard(a,n)},e.onUpdateHeader=function(){var t=Object(u.a)({},e.props.props.card);t.title=e.state.txtValue;var a=e.createActivity("updated the title");e.submitCard(t,a)},e.onChange=function(t){var a=t.target.value;e.setState({txtValue:a})},e.onKeyPress=function(t){if("Enter"===t.key)return e.onUpdateHeader()},e.toggleCardMembersMenu=function(){if(e.state.isMemberListOpen)return e.setState({isMemberListOpen:!1});e.setState({isMemberListOpen:!0})},e.onArchiveCard=function(){var t=Object(u.a)({},e.props.props.card);t.archivedAt=Date.now();var a=e.createActivity("archived");e.submitCard(t,a)},e.onUpdateCardMembers=function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({card:a},(function(){var t=e.createActivity("edited the card members");e.submitCard(a,t)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getParentPos=function(){var t=e.props.anchorEl.current.parentElement.parentElement.getBoundingClientRect();console.log(t),e.setState({offsetTop:t.top,offsetLeft:t.left,width:t.width})},e.getCardCover=function(){var t=e.props.props.card.cover;return t?t.src?r.a.createElement("div",{className:"card-preview-cover-image",style:{backgroundImage:"url(".concat(t.src,")")}}):r.a.createElement("div",{className:"card-preview-cover-color",style:{backgroundColor:t.color}}):r.a.createElement(r.a.Fragment,null)},e.getCardPath=function(){var t=window.location.href,a=e.props.props.card.id;return"".concat(t,"/").concat(a)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getParentPos(),this.getCurrTitle()}},{key:"getCurrTitle",value:function(){var e=this.props.props.card.title;this.setState({txtValue:e})}},{key:"render",value:function(){if(!this.state.offsetTop||!this.state.offsetLeft)return r.a.createElement("div",null);var e=this.props.props;return r.a.createElement(et.a,{onClose:this.props.onClose,open:!0},r.a.createElement("div",{className:"card-edit-container",onClick:function(e){return e.stopPropagation()},style:{left:"".concat(this.state.offsetLeft,"px"),top:"".concat(this.state.offsetTop,"px"),position:"fixed"}},this.state.isMemberListOpen?r.a.createElement(jt,{anchorEl:this.ref,updateCardMembers:this.onUpdateCardMembers,toggleList:this.toggleCardMembersMenu,boardMembers:this.props.board.members,card:e.card}):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"card-edit-left"},r.a.createElement("div",{className:"card-preview",style:{width:"".concat(this.state.width,"px")}},this.getCardCover(),this.props.cardStyle,r.a.createElement(_e,{cardLabels:e.card.labels,boardLabels:e.board.labels,preview:!0}),r.a.createElement("form",null,r.a.createElement("textarea",{className:"card-preview-header card-preview-title-edit",autoFocus:!0,onKeyPress:this.onKeyPress,onChange:this.onChange,value:this.state.txtValue})),r.a.createElement("div",{className:"card-preview-attrs"},r.a.createElement(ve,{dueDate:e.card.dueDate}),this.props.attrs)),r.a.createElement("button",{className:"save-btn",onClick:this.onUpdateHeader},"Save")),r.a.createElement("div",{className:"card-edit-right"},r.a.createElement("div",{className:"card-preview-edit-actions-container"},r.a.createElement(fe.a,{onClick:this.onArchiveCard},r.a.createElement(Se.a,null)," ",r.a.createElement("span",null,"Archive Card")),r.a.createElement(Ce,{dueDate:e.dueDate,onUpdateDueDate:this.onUpdateDueDate}),r.a.createElement(fe.a,{ref:this.ref,onClick:this.toggleCardMembersMenu},r.a.createElement(xe.a,null),r.a.createElement("span",null,"Members")),r.a.createElement(Je,{item:"card",path:this.getCardPath()})))))}}]),a}(n.Component),Kt={updateCard:D,addActivity:S},Xt=Object(i.b)((function(e){return{board:e.boardReducer.board}}),Kt)(Zt),_t=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isEditing:!1},e.ref=r.a.createRef(),e.onSetEditing=function(){e.setState({isEditing:!0})},e.onSetNotEditing=function(){e.setState({isEditing:!1})},e.onOpenCardActions=function(t){t.stopPropagation(),e.onSetEditing()},e.getCardPreviewStyle=function(){var t=e.props.card.style;return t&&Object.keys(t)&&t.bgColor?r.a.createElement("div",{className:"card-preview-style",style:{backgroundColor:t.bgColor}}):r.a.createElement("div",null)},e.getCardPreviewMembers=function(){var t=e.props.card.members;if(!t||!t.length)return r.a.createElement(r.a.Fragment,null);var a=t.map((function(e,t){return r.a.createElement(C,{key:t,name:e.fullName,imgUrl:e.imgUrl})}));return r.a.createElement("div",{className:"card-preview-members"},a)},e.getCardPreviewAttachments=function(){var t=e.props.card.attachments;return t&&Object.keys(t)&&t.length?r.a.createElement("div",{key:"0",className:"card-preview-attr"},r.a.createElement(qt.a,{style:{fontSize:16}})):null},e.getCardPreviewHoldDesc=function(){var t=e.props.card.description;return t&&Object.keys(t)?r.a.createElement("div",{key:"1",className:"card-preview-attr"},r.a.createElement(Wt.a,{style:{fontSize:16}})):null},e.getCardPreviewComments=function(){var t=e.props.board.activities;if(!t)return null;var a=t.filter((function(t){return t.card.id===e.props.card.id}));return(a=a.filter((function(e){return e.commentTxt?e:null})))&&a.length?r.a.createElement("div",{key:"3",className:"card-preview-attr"},r.a.createElement(Yt.a,{style:{fontSize:16}})," ",a.length):null},e.onOpenCardDetails=function(){var t=window.location.href;"/"!==t.charAt(t.length-1)&&(t+="/"),t+="".concat(e.props.card.id),window.location.assign(t)},e.getCardPreviewChecklist=function(){var t=e.props.card.checklists;if(!t||!t.length)return null;var a=0,n=0,o="";return t.forEach((function(e){e.todos.forEach((function(e){e.isDone&&(a+=1),n+=1}))})),n?(a===n&&(o=" card-preview-checklist-counter-done"),r.a.createElement("div",{key:"2",className:"card-preview-attr card-preview-checklist-counter".concat(o)},r.a.createElement(Ae.a,{style:{fontSize:16}})," ",r.a.createElement("span",null,a,"/",n)," ")):null},e.getCardPreviewAttrs=function(){var t=[e.getCardPreviewAttachments(),e.getCardPreviewHoldDesc(),e.getCardPreviewChecklist(),e.getCardPreviewComments()];if(e.getCardPreviewMembers()||!t.every((function(e){return!e})))return r.a.createElement("div",{className:"card-preview-attrs"},t.map((function(e,t){return e||r.a.createElement(r.a.Fragment,{key:t})})))},e.getCardCover=function(){var t=e.props.card.cover;return t?t.src?r.a.createElement("div",{className:"card-preview-cover-image",style:{backgroundImage:"url(".concat(t.src,")")}}):r.a.createElement("div",{className:"card-preview-cover-color",style:{backgroundColor:t.color}}):r.a.createElement(r.a.Fragment,null)},e.onToggleLabels=function(t){return t.stopPropagation(),e.props.toggleFullLabels()},e.componentDidMount=function(){},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Ht.b,{draggableId:this.props.card.id,index:this.props.index},(function(t,a){return r.a.createElement("div",Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,className:a.isDragging?"":"card-preview",onClick:e.onOpenCardDetails}),r.a.createElement("div",{className:a.isDragging?"card-preview-drag":""},e.getCardPreviewStyle(),e.getCardCover(),r.a.createElement(_e,{onClickLabel:e.onToggleLabels,isFull:e.props.fullLabel,cardLabels:e.props.card.labels,boardLabels:e.props.board.labels,preview:!0}),r.a.createElement("div",{className:"card-preview-header"},e.props.card.title),r.a.createElement("div",{ref:e.ref,onClick:e.onOpenCardActions,className:"card-preview-edit-container"},r.a.createElement(vt.a,{fontSize:"inherit"}),e.state.isEditing?r.a.createElement(Xt,{anchorEl:e.ref,props:e.props,onClose:e.onSetNotEditing,cardStyle:e.getCardPreviewStyle(),attrs:e.getCardPreviewAttrs()}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"card-preview-attrs"},r.a.createElement(ve,{dueDate:e.props.card.dueDate}),e.getCardPreviewAttrs(),e.getCardPreviewMembers()),t.placeholder))}))}}]),a}(n.Component),$t={toggleFullLabels:function(){return function(e){e({type:"TOGGLE_FULL_LABEL"})}}},ea=Object(i.b)((function(e){return{fullLabel:e.boardReducer.fullLabel,board:e.boardReducer.board}}),$t)(_t),ta=a(122),aa=a.n(ta),na=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isEditing:!1,txtValue:""},e.onChange=function(t){var a=t.target.value;e.setState({txtValue:a})},e.onKeyPress=function(t){"Enter"===t.key&&e.onSubmit(t)},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.getIsEditing=function(){return e.state.isEditing?r.a.createElement("div",{className:"new-item-form"},r.a.createElement("form",{onKeyDown:e.onKeyPress,onBlur:e.setNotEditing,onSubmit:e.onSubmit},r.a.createElement("textarea",{placeholder:e.props.placeHolderTxt,autoFocus:!0,type:"text",onChange:e.onChange,value:e.state.txtValue}),r.a.createElement("div",{className:"save-btn-container"},r.a.createElement("button",{className:"save-btn",onMouseDown:e.onSubmit},e.props.addBtnTxt),r.a.createElement(Ye.a,{onClick:e.setNotEditing})))):r.a.createElement("div",{className:"new-item-btn",onClick:e.setEditing},r.a.createElement(aa.a,{style:{fontSize:14}}),e.props.addItemTxt)},e.onSubmit=function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.state.txtValue){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.props.onAdd(e.state.txtValue);case 5:!1,"",e.setState({isEditing:!1,txtValue:""});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"new-item-container"},this.getIsEditing())}}]),a}(n.Component),ra=a(218).cardService;var oa=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).addCard=function(t){t.stopPropagation(),e.props.onAdd("New Card")},e.archiveAllCards=function(t){t.stopPropagation(),e.props.onArchiveAllCards(e.props.groupId,e.props.board),e.props.toggleMenu()},e.archiveGroup=function(t){t.stopPropagation(),e.props.onArchiveGroup(e.props.groupId,e.props.board),e.props.toggleMenu()},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(w.a,{onClickAway:function(){return e.props.toggleMenu()}},r.a.createElement("div",{className:"group-menu-container"},r.a.createElement("div",null,"List Actions"),r.a.createElement("div",null,r.a.createElement("hr",null)),r.a.createElement("div",{onClick:this.addCard,className:"group-menu-item"},"Add Card..."),r.a.createElement("div",{onClick:this.archiveAllCards,className:"group-menu-item"},"Archive All Cards..."),r.a.createElement("div",null,r.a.createElement("hr",null)),r.a.createElement("div",{onClick:this.archiveGroup,className:"group-menu-item"},"Archive This Group...")))}}]),a}(n.Component),ca={onArchiveGroup:function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,o;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=JSON.parse(JSON.stringify(t)),o=r.groups.findIndex((function(t){return t.id===e})),r.groups[o].archivedAt=Date.now(),n({type:"SET_BOARD",board:r}),a.next=7,k.a.updateBoard(r);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("error archiving group",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},onArchiveAllCards:function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,o,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=JSON.parse(JSON.stringify(t)),o=r.groups.findIndex((function(t){return t.id===e})),c=r.groups[o].cards.map((function(e){var t=JSON.parse(JSON.stringify(e));return t.archivedAt=Date.now(),t})),r.groups[o].cards=c,n({type:"SET_BOARD",board:r}),a.next=8,k.a.updateBoard(r);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log("error archiving cards",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}},ia=Object(i.b)((function(e){return{board:e.boardReducer.board}}),ca)(oa),sa=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={currGroupName:"",currGroupId:null,isMenuShown:!1,isChangeGroupShown:!1},e.onAddCard=function(t){return e.props.addCard(e.props.board,t,e.props.group.id)},e.getAddItemTxt=function(){return e.props.group.cards.length?"Add another card":"Add a card"},e.toggleMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&t.stopPropagation();var a=!e.state.isMenuShown;e.setState({isMenuShown:a})},e.closeChangeGroupName=function(t){e.setState({isChangeGroupShown:!1}),e.onSubmit(t)},e.onOpenChangeGroupName=function(t,a){e.setState({currGroupId:t,currGroupName:a,isChangeGroupShown:!0})},e.handleChangeGroupName=function(t){e.setState({currGroupName:t.target.value})},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.currGroupId,r=a.currGroupName;e.props.setNewGroupName(n,r,e.props.board),e.setState({isChangeGroupShown:!1})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.group;return r.a.createElement(Ht.b,{draggableId:t.id,index:this.props.index},(function(a,n){return r.a.createElement("div",Object.assign({},a.draggableProps,{ref:a.innerRef,className:n.isDragging?"":"group-outer-container"}),r.a.createElement("div",{className:n.isDragging?"group-container-drag":"group-container"},r.a.createElement("div",Object.assign({},a.dragHandleProps,{className:"group-header",onClick:function(){return e.onOpenChangeGroupName(t.id,t.title)}}),e.state.isChangeGroupShown?r.a.createElement(w.a,{onClickAway:e.closeChangeGroupName},r.a.createElement("form",{onSubmit:e.onSubmit,className:"change-group-name"},r.a.createElement("input",{className:"change-group-name-input",type:"text",name:"group-name",onChange:e.handleChangeGroupName,defaultValue:t.title,autoFocus:!0,spellCheck:"false",autoComplete:"off",onFocus:function(e){return e.target.select()}}))):t.title,r.a.createElement("span",{onClick:e.toggleMenu,className:"material-icons dots-icon"},"more_horiz"),e.state.isMenuShown&&r.a.createElement(ia,{toggleMenu:e.toggleMenu,groupId:t.id,onAdd:e.onAddCard})),r.a.createElement(Ht.c,{droppableId:t.id,type:"card"},(function(e,a){return r.a.createElement("div",Object.assign({className:"card-container",ref:e.innerRef},e.droppableProps),t.cards.map((function(e,t){if(!e.archivedAt)return r.a.createElement(ea,{key:e.id,card:e,index:t})})),e.placeholder)})),r.a.createElement("div",{className:"new-card-btn-container"},r.a.createElement(na,{addItemTxt:e.getAddItemTxt(),placeHolderTxt:"Add a title for this card...",addBtnTxt:"Add Card",onAdd:e.onAddCard}))))}))}}]),a}(n.Component),la={addCard:function(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(r){var o;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ra.addCard(e,t,a);case 3:o=n.sent,r({type:"SET_BOARD",board:o}),k.a.updateBoard(o),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("ReviewActions: err in addCard",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},setNewGroupName:function(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(r){var o,c,i;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,o=a.groups.findIndex((function(t){return t.id===e})),t!==a.groups[o].title&&t.trim()){n.next=4;break}return n.abrupt("return");case 4:return c=JSON.parse(JSON.stringify(a)),i=t.replace(/\s+/g," "),c.groups[o].title=i.trim(),r({type:"SET_BOARD",board:c}),n.next=10,k.a.updateBoard(c);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log("error setting group name",n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}},ua=Object(i.b)((function(e){return{board:e.boardReducer.board}}),la)(sa),da=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newGroupTitle:""},e.handleChange=function(t){var a=t.target.value;e.setState({newGroupTitle:a})},e.onSubmit=function(t){t.preventDefault(),e.state.newGroupTitle&&(e.props.onAddNewGroup(e.props.board,e.state.newGroupTitle),e.setState({newGroupTitle:""}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setState({newGroupTitle:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"new-group-form"},r.a.createElement("form",{onBlur:this.setNotEditing,onSubmit:this.onSubmit},r.a.createElement("input",{onBlur:function(){return e.props.closeNewGroup()},placeholder:"Enter list title",type:"text",autoFocus:!0,onChange:this.handleChange,value:this.state.newGroupTitle?this.state.newGroupTitle:""}),r.a.createElement("div",{className:"save-btn-container"},r.a.createElement("button",{className:"save-btn",onMouseDown:this.onSubmit},"Add List"),r.a.createElement(Ye.a,{onClick:function(){return e.props.closeNewGroup()}}))))}}]),a}(n.Component),pa={onAddNewGroup:function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,o;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=JSON.parse(JSON.stringify(e)),o={id:F(),title:t,cards:[],archivedAt:!1,style:{}},r.groups.push(o),n({type:"SET_BOARD",board:r}),a.next=7,k.a.updateBoard(r);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("error adding new group",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}},ma=Object(i.b)((function(e){return{board:e.boardReducer.board}}),pa)(da),fa=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isNewGroupShown:!1,groups:null},e.closeNewGroup=function(){e.setState({isNewGroupShown:!1})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.groups;t.onAddGroup,t.style;return a?r.a.createElement("div",{className:"group-list-outer-container"},r.a.createElement(Ht.c,{droppableId:"changeToBoardId",direction:"horizontal",type:"group"},(function(e){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"group-list-container"}),a.map((function(e,t){if(!e.archivedAt)return r.a.createElement(ua,{key:e.id,group:e,index:t})})))})),r.a.createElement("div",{className:"new-group"},!this.state.isNewGroupShown&&r.a.createElement("div",{className:"add-new-group-text",onClick:function(){return e.setState({isNewGroupShown:!0})}},"+ Add another list"),this.state.isNewGroupShown&&r.a.createElement(ma,{closeNewGroup:this.closeNewGroup}))):r.a.createElement("div",null)}}]),a}(n.Component),ha=a(909),ba=a(894),ga=a(885),va=a(898),Ea=a(895),ya=a(899),Ca=a(356),wa=a.n(Ca),Oa=a(357),Aa=a.n(Oa),ka=a(358),Na=a.n(ka),Sa=a(172),Da=a.n(Sa),ja=a(354),Ba=a.n(ja),xa=a(121),Ua=a.n(xa);function Ta(e){var t=e.titleTxt,a=e.onSetMenuOpt;return r.a.createElement("div",{className:"sidebar-header"},r.a.createElement("h4",null,t),r.a.createElement(W.a,{size:"small",onClick:function(){return a(null)}},r.a.createElement(Ua.a,null)),r.a.createElement(ba.a,null))}var Ma=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isEditDesc:!1,isEditTitle:!1,currDesc:null,currTitle:null},e.setCurrDesc=function(t){var a=t.target.value;e.setState({currDesc:a})},e.setCurrTitle=function(t){var a=t.target.value;e.setState({currTitle:a})},e.onEditDesc=function(){var t=e.state.currDesc;if(t){var a=Object(u.a)(Object(u.a)({},e.props.board),{},{description:t});e.props.updateBoard(a)}e.setState({isEditDesc:!1})},e.onEditTitle=function(){var t=e.state.currTitle;if(t){var a=Object(u.a)(Object(u.a)({},e.props.board),{},{title:t});e.props.updateBoard(a)}e.setState({isEditTitle:!1})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.board,n=t.isShowing,o=t.onSetMenuOpt,c=this.state,i=c.isEditDesc,s=c.isEditTitle;return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(ha.a,{classes:{root:"sidebar"},className:"about-board",anchor:"right",open:n,BackdropProps:{hideBackdrop:!0},variant:"persistent"},r.a.createElement(Ta,{titleTxt:"ABOUT THIS BOARD",onSetMenuOpt:o}),s?r.a.createElement("div",null,r.a.createElement("input",{type:"text",autoFocus:!0,defaultValue:a.title,onChange:function(t){return e.setCurrTitle(t)},onBlur:function(){return e.setState({isEditTitle:!1})}}),r.a.createElement("button",{type:"button",className:"save-btn",onMouseDown:this.onEditTitle},"Save")):r.a.createElement("h2",{onClick:function(){return e.setState({isEditTitle:!0})}},a.title),r.a.createElement("div",{className:"about-container"},a.createdBy&&r.a.createElement("div",{className:"created-by"},r.a.createElement("h5",null,r.a.createElement(Ba.a,null)," CREATED BY"),r.a.createElement("div",{className:"board-creator"},r.a.createElement(C,{name:a.createdBy.fullName}),r.a.createElement("span",null,a.createdBy.fullName))),r.a.createElement(ba.a,null),r.a.createElement("div",{className:"board-description"},r.a.createElement("div",{className:"description-header"},r.a.createElement("h5",null,r.a.createElement(Ze.a,null)," DESCRIPTION"),r.a.createElement("button",{className:"edit-desc-btn",onClick:function(){return e.setState({isEditDesc:!e.state.isEditDesc})}},"Edit desciption")),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{name:"boardDesc",autoFocus:!0,defaultValue:a.description,style:{resize:"none"},cols:"30",rows:"10",onChange:function(t){return e.setCurrDesc(t)},onBlur:function(){return e.setState({isEditDesc:!1})}}),r.a.createElement("div",{className:"save-cancel-btns"},r.a.createElement("button",{type:"button",className:"save-btn",onMouseDown:this.onEditDesc},"Save"),r.a.createElement("button",{className:"cancel-btn",onClick:function(){return e.setState({isEditDesc:!1})}},"Cancel"))),!i&&r.a.createElement("pre",{style:{cursor:"pointer"},onClick:function(){return e.setState({isEditDesc:!0})}},a.description)))))}}]),a}(n.Component),La={updateBoard:T},Fa=Object(i.b)((function(e){return{board:e.boardReducer.board}}),La)(Ma),Pa=(a.p,function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSetBoardStyle=function(t){var a=Object(u.a)(Object(u.a)({},e.props.board),{},{style:t});e.props.updateBoard(a),e.props.setStyle(a.style)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=(t.board,t.isShowing),n=t.onSetMenuOpt;return r.a.createElement("div",{className:"about-board sidebar-container"},r.a.createElement(ha.a,{classes:{root:"sidebar"},anchor:"right",open:a,BackdropProps:{hideBackdrop:!0},variant:"persistent"},r.a.createElement(Ta,{titleTxt:"CHANGE BACKGROUND",onSetMenuOpt:n}),r.a.createElement("div",{className:"changeBG-container"},r.a.createElement("div",{className:"style-pallete"},[{id:"bs101",fontClr:"#f9f9f9",bgImg:"url(https://res.cloudinary.com/duhz8ymod/image/upload/v1600708689/bg-1_ls68ox.jpg)"},{id:"bs102",fontClr:"#f9f9f9",bgImg:"url(https://res.cloudinary.com/duhz8ymod/image/upload/v1600708658/bg-2_r8mevb.jpg)"},{id:"bs103",fontClr:"#f9f9f9",bgImg:"url(https://res.cloudinary.com/duhz8ymod/image/upload/v1600708664/bg-3_vrhygl.jpg)"},{id:"bs104",fontClr:"#f9f9f9",bgImg:"url(https://res.cloudinary.com/duhz8ymod/image/upload/v1600708683/bg-4_jqpmcl.jpg)"},{id:"bs105",fontClr:"#f9f9f9",bgImg:"url(https://res.cloudinary.com/duhz8ymod/image/upload/v1600708662/bg-5_r4mz7j.jpg)"},{id:"bs106",fontClr:"#f9f9f9",bgImg:"url(https://res.cloudinary.com/duhz8ymod/image/upload/v1600708669/bg-6_tsrunp.jpg)"},{id:"bs107",fontClr:"#f9f9f9",bgImg:"url(https://res.cloudinary.com/duhz8ymod/image/upload/v1600708679/bg-7_g0tqic.jpg)"},{id:"bs108",fontClr:"#f9f9f9",bgImg:"url(https://res.cloudinary.com/duhz8ymod/image/upload/v1600708683/bg-8_hoe86h.jpg)"}].map((function(t){return r.a.createElement("div",{key:t.id,className:"bg-style",style:{backgroundColor:t.bgClr},onClick:function(){return e.onSetBoardStyle(t)}},r.a.createElement("div",{className:"img-container",style:{backgroundImage:t.bgImg,backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),r.a.createElement("div",null,"Select"))}))))))}}]),a}(n.Component)),Ia={updateBoard:T,setStyle:M},Ra=Object(i.b)((function(e){return{board:e.boardReducer.board}}),Ia)(Pa),Ga=a(225),za=a.n(Ga),Qa=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isShowingCards:!0,archive:{archivedCards:[],archivedGroups:[]},filterBy:""},e.loadArchive=function(){var t=e.state.filterBy,a=e.props.board,n=a.groups.filter((function(e){return e.cards.find((function(e){return e.archivedAt}))}));n=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{cards:e.cards.filter((function(e){return e.archivedAt&&(e.title.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase()))}))})}));var r=a.groups.filter((function(e){return e.archivedAt&&e.title.toLowerCase().includes(t.toLowerCase())}));e.setState({archive:{archivedCards:n,archivedGroups:r}})},e.onOpenCardDetails=function(e){var t=window.location.href;t+=e,window.location.assign(t)},e.onUnArchiveCard=function(t){t.archivedAt=null,e.props.updateCard(e.props.board,t)},e.onDeleteCard=function(t){e.props.deleteCard(e.props.board,t)},e.onUnArchiveGroup=function(t){t.archivedAt=null,e.props.updateGroup(e.props.board,t)},e.onFilter=function(t){var a=t.target.value;e.setState((function(){return{filterBy:a}}),(function(){return e.loadArchive()}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadArchive();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.board!==this.props.board&&this.loadArchive()}},{key:"render",value:function(){var e=this,t=this.props,a=t.board,n=t.isShowing,o=t.onSetMenuOpt,c=this.state,i=c.isShowingCards,s=c.archive;return a.groups?s&&r.a.createElement("div",{className:"archive sidebar-container"},r.a.createElement(ha.a,{classes:{root:"sidebar"},anchor:"right",open:n,BackdropProps:{hideBackdrop:!0},variant:"persistent"},r.a.createElement(Ta,{titleTxt:"ARCHIVE",onSetMenuOpt:o}),r.a.createElement("div",{className:"search-archive-container"},r.a.createElement("input",{type:"text",onChange:function(t){return e.onFilter(t)}}),r.a.createElement("button",{className:"toggle-archive-btn",onClick:function(){e.setState({isShowingCards:!e.state.isShowingCards,filterBy:""})}},"Switch to ",i?"groups":"cards")),r.a.createElement("div",{className:"archive-list-container"},i?s.archivedCards.map((function(t){if(0!==t.cards.length)return r.a.createElement(r.a.Fragment,{key:t.id},r.a.createElement("h5",null,t.title),t.cards.map((function(t){return r.a.createElement("div",{className:"archive-card-container",key:t.id},r.a.createElement("div",{className:"archive-card-preview",onClick:function(){return e.onOpenCardDetails(t.id)}},r.a.createElement("span",null,t.title)),r.a.createElement("div",{className:"buttons"},r.a.createElement(W.a,{onClick:function(){return e.onUnArchiveCard(t)}},r.a.createElement(za.a,{fontSize:"small"})),r.a.createElement(W.a,{onClick:function(){return e.onDeleteCard(t.id)}},r.a.createElement(yt.a,{fontSize:"small"}))))})))})):s.archivedGroups.map((function(t){return r.a.createElement(r.a.Fragment,{key:t.id},r.a.createElement("div",{className:"archive-group-preview"},r.a.createElement("h5",null,t.title)),r.a.createElement("div",{className:"buttons"},r.a.createElement(W.a,{onClick:function(){return e.onUnArchiveGroup(t)}},r.a.createElement(za.a,{fontSize:"small"})),r.a.createElement(W.a,null,r.a.createElement(yt.a,{fontSize:"small"}))))}))))):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component),Wa={loadBoard:N,updateCard:D,deleteCard:function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,o,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=JSON.parse(JSON.stringify(e)),o=r.groups.findIndex((function(e){return e.cards.find((function(e){return e.id===t}))})),c=r.groups[o].cards.findIndex((function(e){return e.id===t})),r.groups[o].cards.splice(c,1),n({type:"SET_BOARD",board:r}),a.next=8,k.a.updateBoard(r);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log("error deleting card",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},updateGroup:function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,o;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=JSON.parse(JSON.stringify(e)),o=r.groups.findIndex((function(e){return e.id===t.id})),r.groups[o]=t,n({type:"SET_BOARD",board:r}),a.next=7,k.a.updateBoard(r);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("error updating group",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}},Ja=Object(i.b)((function(e){return{board:e.boardReducer.board}}),Wa)(Qa),qa=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isShowing,a=e.onSetMenuOpt;return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(ha.a,{classes:{root:"sidebar"},className:"label-panel",anchor:"right",open:t,BackdropProps:{hideBackdrop:!0},variant:"persistent"},r.a.createElement(Ta,{titleTxt:"LABELS",onSetMenuOpt:a}),r.a.createElement(Nt,null)))}}]),a}(n.Component),Va={addLabel:j,updateLabel:x,removeLabel:B},Ya=Object(i.b)((function(e){return{board:e.boardReducer.board}}),Va)(qa),Ha=a(101),Za=a(883),Ka=a(834),Xa=a(896),_a=a(897),$a=a(32),en=a(29).default,tn={createTemplateFromBoard:function(e,t,a,n,r){return nn.apply(this,arguments)},createBoardFromTemplate:function(e,t){return an.apply(this,arguments)},query:function(e){var t=e?we.a.createQueryString(e):"";return console.log(t),$a.a.get("template".concat(t))},remove:function(e){return $a.a.delete("template/".concat(e))}};function an(){return(an=Object(v.a)(g.a.mark((function e(t,a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n={templateId:t,user:en.getLoggedInUser(),boardName:a}).boardName||(n.boardName="New board"),e.next=4,$a.a.post("template/new/",n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(){return(nn=Object(v.a)(g.a.mark((function e(t,a,n,r,o){var c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={board:t,templateName:a,attachments:n,checklists:r,labels:o},e.next=3,$a.a.post("template",c);case 3:return i=e.sent,e.abrupt("return",Promise.resolve(i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rn,on=a(355),cn=a.n(on),sn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1,includeAttachments:!0,includeChecklists:!0,includeLabels:!0,templateName:""},e.onOpen=function(){e.setState({isOpen:!0})},e.onClose=function(){e.setState({isOpen:!1})},e.onChange=function(t){e.setState({templateName:t.target.value})},e.createTemplateFromBoard=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tn.createTemplateFromBoard(e.props.board,e.state.templateName,e.state.includeAttachments,e.state.includeChecklists,e.state.includeLabels);case 2:e.props.history.push("/board");case 3:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){e.setState(Object(Ha.a)({},t.target.name,t.target.checked))},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"open-template-button",onClick:this.onOpen},r.a.createElement(Ea.a,null,r.a.createElement(cn.a,null))," ",r.a.createElement("span",null,"Create template")),r.a.createElement(et.a,{open:this.state.isOpen,onClose:this.onClose,onBackdropClick:this.onClose},r.a.createElement("div",{className:"create-template"},r.a.createElement("div",{className:"create-template-header"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("h6",null,"Create Template")),r.a.createElement(W.a,{onClick:this.onClose},r.a.createElement(J.a,null))),r.a.createElement("div",{className:"create-template-form"},r.a.createElement("div",{className:"name"},r.a.createElement("span",null,"Give your template a name"),r.a.createElement(he.a,{value:this.state.templateName,onChange:this.onChange,label:"Template name",variant:"outlined"})),r.a.createElement("div",{className:"checkboxes"},r.a.createElement(Za.a,null,r.a.createElement(Ka.a,{component:"legend"},"Which items would you like to export to the template?"),r.a.createElement(Xa.a,null,r.a.createElement(_a.a,{control:r.a.createElement(ot.a,{checked:this.state.includeAttachments,onChange:this.handleChange,name:"includeAttachments"}),label:"Attachments"}),r.a.createElement(_a.a,{control:r.a.createElement(ot.a,{checked:this.state.includeChecklists,onChange:this.handleChange,name:"includeChecklists"}),label:"Checklists"}),r.a.createElement(_a.a,{control:r.a.createElement(ot.a,{checked:this.state.includeLabels,onChange:this.handleChange,name:"includeLabels"}),label:"Labels"})))),r.a.createElement("div",{className:"confirm"},r.a.createElement(fe.a,{onClick:this.createTemplateFromBoard},"Create Template"))))))}}]),a}(n.Component),ln=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={selectedMenuOpt:null},e.onSetMenuOpt=function(t){e.setState({selectedMenuOpt:t})},e.DynamicCmp=function(){var t=e.state.selectedMenuOpt;switch(t){case"about":return r.a.createElement(Fa,{isShowing:"about"===t,onSetMenuOpt:e.onSetMenuOpt});case"changeBG":return r.a.createElement(Ra,{isShowing:"changeBG"===t,onSetMenuOpt:e.onSetMenuOpt});case"archive":return r.a.createElement(Ja,{isShowing:"archive"===t,onSetMenuOpt:e.onSetMenuOpt});case"labels":return r.a.createElement(Ya,{isShowing:"labels"===t,onSetMenuOpt:e.onSetMenuOpt});case null:default:return r.a.createElement(r.a.Fragment,null)}},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.board,n=t.isSidebarShowing,o=t.onToggleSidebar;return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(ha.a,{className:"sidebar",anchor:"right",open:n,BackdropProps:{hideBackdrop:!0},variant:"persistent",onClose:function(){return o(!1)}},r.a.createElement("div",{className:"sidebar-header"},r.a.createElement("h4",null,"MENU"),r.a.createElement(W.a,{size:"small",onClick:function(){return o(!1)}},r.a.createElement(wt.a,null))),r.a.createElement(ba.a,null),r.a.createElement(ga.a,null,r.a.createElement(va.a,{button:!0,className:"menu-btn",onClick:function(){e.onSetMenuOpt("about")}},r.a.createElement(Ea.a,null,r.a.createElement(wa.a,null)),r.a.createElement(ya.a,null,"About this board")),r.a.createElement(va.a,{button:!0,className:"menu-btn",onClick:function(){e.onSetMenuOpt("changeBG")}},r.a.createElement(Ea.a,null,r.a.createElement(Aa.a,null)),r.a.createElement(ya.a,null,"Change background")),r.a.createElement(va.a,{button:!0,className:"menu-btn",component:s.b,to:"/analysis/".concat(a._id,"/")},r.a.createElement(Ea.a,null,r.a.createElement(Na.a,null)),r.a.createElement(ya.a,null,"Board analysis")),r.a.createElement(va.a,{button:!0,className:"menu-btn",onClick:function(){e.onSetMenuOpt("archive")}},r.a.createElement(Ea.a,null,r.a.createElement(Se.a,null)),r.a.createElement(ya.a,null,"Archive")),r.a.createElement(va.a,{button:!0,className:"menu-btn",onClick:function(){e.onSetMenuOpt("labels")}},r.a.createElement(Ea.a,null,r.a.createElement(je.a,null)),r.a.createElement(ya.a,null,"Labels")),r.a.createElement(va.a,{button:!0,className:"menu-btn"},r.a.createElement(sn,{history:this.props.history,board:this.props.board}))),r.a.createElement(ba.a,null),r.a.createElement("h5",{className:"activity-log-title"},r.a.createElement(Da.a,{size:"small"}),"ACTIVITY LOG"),r.a.createElement(ie,{activities:a.activities,boardId:a._id})),this.DynamicCmp())}}]),a}(n.Component),un=Object(i.b)((function(e){return{board:e.boardReducer.board}}))(ln),dn=a(359),pn=a.n(dn),mn={setup:function(){rn=pn()("/")},terminate:function(){rn=null},on:function(e,t){rn.on(e,t)},off:function(e,t){rn.off(e,t)},emit:function(e,t){rn.emit(e,t)}};var fn=a(360),hn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isSidebarShowing:!1,lastReceivedUpdateAt:null},e.showUpdateMessage=function(t){var a=Object(fn.detailedDiff)(t,e.props.board);if(!Object.keys(a.added).length&&!Object.keys(a.deleted).length&&!Object.keys(a.updated).length)return console.log("nothing to update");e.setState({lastReceivedUpdateAt:Date.now()})},e.getBoardFromParams=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.id,t.prev=1,t.next=4,e.props.loadBoard(a);case 4:mn.on("init board",(function(){return console.log("init board",e.props.board._id)})),e.props.setStyle(e.props.board.style),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),It.b.error("Oops! we seem to be missing the board you're looking for. going back to board selection.",{position:"bottom-right",autoClose:3500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){e.props.history.push("/board")}),1e3);case 12:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.onToggleSidebar=function(t){e.setState({isSidebarShowing:t})},e.onFilter=function(t){e.props.onSetFilterBy(e.props.board,t)},e.onAddGroup=function(e){return e},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,mn.setup(),e.prev=2,e.next=5,this.props.loadBoard(t);case 5:this.props.setStyle(this.props.board.style),mn.on("init board",(function(){return console.log(a.props.board._id)})),mn.emit("entered-board",this.props.board._id),mn.on("board-updated",function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(JSON.stringify(a.props.board)),e.next=3,a.props.loadBoard(t._id);case 3:n.style!==a.props.board.style&&a.props.setStyle(a.props.board.style),a.showUpdateMessage(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),It.b.error("Oops! we seem to be missing the board you're looking for. going back to board selection.",{position:"bottom-right",autoClose:3500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){a.props.history.push("/board")}),1e3);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){mn.off("board-updated"),mn.terminate(),this.props.resetBoard()}},{key:"render",value:function(){var e=this.props.board;return e?r.a.createElement(r.a.Fragment,null,this.props.match.params.cardId?r.a.createElement(zt,{cardId:this.props.match.params.cardId,boardId:this.props.match.params.id,history:this.props.history}):r.a.createElement("div",null),r.a.createElement("div",{className:"board-container"},r.a.createElement(me,{title:e.title,members:e.members,onToggleSidebar:this.onToggleSidebar,onFilter:this.onFilter,style:e.style,users:this.props.allUsers,lastUpdate:this.state.lastReceivedUpdateAt}),r.a.createElement(un,{board:e,history:this.props.history,isSidebarShowing:this.state.isSidebarShowing,onToggleSidebar:this.onToggleSidebar}),e.groups?r.a.createElement(fa,{style:e.style,onAddGroup:this.onAddGroup,groups:e.groups}):r.a.createElement(E.a,null))):r.a.createElement("div",{className:"board-container"},r.a.createElement(E.a,null))}}]),a}(n.Component),bn={loadBoard:N,onSetFilterBy:U,setStyle:M,resetBoard:function(){return function(e){try{e({type:"SET_BOARD",board:null})}catch(t){console.log("board action error in reseting board",t)}}}},gn=Object(i.b)((function(e){return{board:e.boardReducer.board,filterBy:e.boardReducer.filterBy}}),bn)(hn),vn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"new-board-color ".concat(this.props.isSelected?"colorSelected":""),style:{backgroundColor:"".concat(this.props.color)},onClick:function(){return e.props.onSetColor(e.props.color)}})}}]),a}(n.Component),En=[{id:"bc101",name:"green",color:"#519839"},{id:"bc102",name:"yellow",color:"#D29034"},{id:"bc103",name:"blue",color:"#0079BF"},{id:"bc104",name:"brown",color:"#B04632"},{id:"bc105",name:"purple",color:"#89609E"},{id:"bc106",name:"pink",color:"#CD5A91"},{id:"bc107",name:"lightGreen",color:"#4BBF6B"},{id:"bc108",name:"teal",color:"#49A9D7"}],yn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedColor:null,newBoardName:""},e.onSetColor=function(t){e.setState({selectedColor:t})},e.handleChange=function(t){e.setState({newBoardName:t.target.value})},e.onSubmit=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.selectedColor,r=e.state.newBoardName){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.props.addNewBoard(r,n);case 7:o=t.sent,e.props.redirectPath(o._id);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setState({selectedColor:null,newBoardName:""})}},{key:"isSelected",value:function(e){return this.state.selectedColor===e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"add-board-container"},r.a.createElement("div",{className:"notification-preview-header"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("h6",null,"Create Board")),r.a.createElement(W.a,{onClick:this.props.onCloseModal},r.a.createElement(J.a,null))),r.a.createElement("input",{onChange:this.handleChange,type:"text",placeholder:"New Board's Name",autoFocus:!0}),r.a.createElement("div",{className:"new-board-colors-container"},En.map((function(t){return r.a.createElement(vn,{color:t.color,key:t.id,onSetColor:e.onSetColor,isSelected:e.isSelected(t.color)})}))),r.a.createElement("button",{onClick:this.onSubmit},"Add New Board"))}}]),a}(n.Component),Cn={addNewBoard:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var a=Object(v.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k.a.addNewBoard(e,t);case 2:return r=a.sent,a.abrupt("return",r);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},loadBoard:N,setDefaultStyle:L},wn=Object(i.b)((function(e){return{}}),Cn)(yn),On=a(361),An=a.n(On),kn=a(362),Nn=a.n(kn),Sn=a(227),Dn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loginOrSignup:"login",credentials:{},isLoading:!1,isWelcomeShown:!1,isErrorShown:!1},e.handleChange=function(t){var a=t.target,n=Object(u.a)(Object(u.a)({},e.state.credentials),{},Object(Ha.a)({},a.name,a.value));e.setState({credentials:n},(function(){return console.log(e.state.credentials)}))},e.setSignup=function(){e.setState({loginOrSignup:"signup"})},e.setLogin=function(){e.setState({loginOrSignup:"login"})},e.onSubmit=function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.setState({isErrorShown:!1}),"login"!==e.state.loginOrSignup){t.next=6;break}e.setState({isLoading:!0},Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadUser(e.state.credentials);case 2:if(t.sent,e.props.loggedInUser){t.next=6;break}return e.setState({isErrorShown:!0,isLoading:!1}),t.abrupt("return");case 6:e.setState({isWelcomeShown:!0,isLoading:!1},(function(){setTimeout((function(){e.props.hideLoginDrawer(),setTimeout((function(){e.setState({isWelcomeShown:!1})}),500)}),1700)}));case 7:case"end":return t.stop()}}),t)})))),t.next=12;break;case 6:if("signup"!==e.state.loginOrSignup){t.next=12;break}if((n=e.state.credentials.name)&&-1!==n.trim().indexOf(" ")){t.next=11;break}return e.setState({isErrorShown:!0}),t.abrupt("return");case 11:e.setState({isLoading:!0},Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.signUser(e.state.credentials);case 2:e.setState({isWelcomeShown:!0,isLoading:!1},(function(){setTimeout((function(){e.props.hideLoginDrawer(),setTimeout((function(){e.setState({isWelcomeShown:!1})}),500)}),1700)}));case 3:case"end":return t.stop()}}),t)}))));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(w.a,{onClickAway:this.props.hideLoginDrawer},r.a.createElement("div",{className:"login-container"},r.a.createElement(ha.a,{anchor:"right",open:this.props.isShowing,BackdropProps:{showBackdrop:!0},variant:"persistent"},r.a.createElement("div",{className:"login-form-container"},r.a.createElement("img",{className:"login-logo",src:Nn.a,alt:""}),r.a.createElement("h4",null,"Welcome to Opus"),this.state.isLoading?r.a.createElement("div",{className:"circular-progress-container"}," ",r.a.createElement(E.a,null)):"",this.state.isWelcomeShown?r.a.createElement("div",null,r.a.createElement("h4",null,"Your'e now logged in :)")):"",this.state.isErrorShown?r.a.createElement("div",null,r.a.createElement("h5",null,"Something went wrong, try again?")):"","login"===this.state.loginOrSignup&&!this.state.isLoading&&!this.state.isWelcomeShown&&r.a.createElement(Sn.a,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:this.onSubmit},(function(t){t.handleSubmit;var a=t.isSubmitting;return r.a.createElement("form",{className:"inner-form-container",onSubmit:e.onSubmit},r.a.createElement("input",{type:"email",name:"email",onChange:e.handleChange,placeholder:"Email address",autoComplete:"off"}),r.a.createElement("input",{type:"password",name:"password",onChange:e.handleChange,placeholder:"Password",autoComplete:"off"}),r.a.createElement("button",{type:"submit",disabled:a},"Log in"))})),"signup"===this.state.loginOrSignup&&!this.state.isLoading&&!this.state.isWelcomeShown&&r.a.createElement(Sn.a,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:this.onSubmit},(function(t){t.handleSubmit;var a=t.isSubmitting;return r.a.createElement("form",{className:"inner-form-container",onSubmit:e.onSubmit},r.a.createElement("input",{type:"text",name:"name",onChange:e.handleChange,placeholder:"Full name",autoComplete:"off"}),r.a.createElement("input",{type:"email",name:"email",onChange:e.handleChange,placeholder:"Email address",autoComplete:"off"}),r.a.createElement("input",{type:"password",name:"password",onChange:e.handleChange,placeholder:"Password",autoComplete:"off"}),r.a.createElement("button",{type:"submit",disabled:a},"Sign Up"))}))),"login"===this.state.loginOrSignup?r.a.createElement("button",{className:"signup-btn",onClick:this.setSignup},"Sign up"):r.a.createElement("button",{className:"signup-btn",onClick:this.setLogin},"Log in"))))}}]),a}(n.Component),jn={loadUser:K,signUser:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(v.a)(g.a.mark((function e(r){var o,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={fullName:t,email:a,password:n,imgUrl:null},e.next=4,Z.default.signup(o);case 4:return c=e.sent,r({type:"SET_USER",loggedInUser:c}),e.next=8,Z.default.getUsersFromDb();case 8:return i=e.sent,r({type:"SET_USERS",users:i}),e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(0),console.log("error in sign up");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()}},Bn=Object(i.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),jn)(Dn),xn=a(900),Un=a(901),Tn=a(365),Mn=a.n(Tn),Ln=a(366),Fn=a.n(Ln),Pn=a(367),In=a.n(Pn),Rn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",fullName:"",imgUrl:"",id:null,isUploadZoneOpen:!1,isUploading:!1},e.setUploading=function(){return new Promise((function(t){e.setState({isUploading:!0},(function(){return t(!0)}))}))},e.onAddImage=function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setUploading();case 2:return t.next=4,Z.default.getById(e.state.id);case 4:return(n=t.sent).imgUrl=a,t.next=8,e.props.updateUser(n);case 8:e.setState({imgUrl:a,isUploading:!1});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleUploadDropzone=function(){return e.state.isUploadZoneOpen?e.setState({isUploadZoneOpen:!1}):e.setState({isUploadZoneOpen:!0})},e.getUserDetailsFromProps=function(){var t=e.props.loggedInUser;t&&(t.imgUrl&&e.testImage(t.imgUrl,e.setImgResult),e.setState({username:t.userName,fullName:t.fullName,id:t._id}))},e.testImage=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=!1,o=new Image;o.onerror=o.onabort=function(){r||(clearTimeout(a),t(e,"error"))},o.onload=function(){r||(clearTimeout(a),t(e,"success"))},o.src=e,a=setTimeout((function(){r=!0,o.src="//!!!!/test.jpg",t(e,"timeout")}),n)},e.setImgResult=function(t,a){"success"===a&&e.setState({imgUrl:t})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getUserDetailsFromProps()}},{key:"componentDidUpdate",value:function(e,t){e.loggedInUser!==this.props.loggedInUser&&this.getUserDetailsFromProps()}},{key:"getInitials",value:function(e){if(e){var t=e.split(" ");return t[0].charAt(0).toUpperCase()+t[1].charAt(0).toUpperCase()}}},{key:"render",value:function(){return this.state.username?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user-profile-container"},r.a.createElement("div",{className:"user-profile"},r.a.createElement("div",{className:"user-img-container"},r.a.createElement(Tt,{onAddImage:this.onAddImage,setUploading:this.setUploading,toggleOpen:this.toggleUploadDropzone,isOpen:this.state.isUploadZoneOpen}),r.a.createElement("div",{className:"user-img"},this.state.isUploading?r.a.createElement(E.a,{style:{width:"144px",height:"144px"}}):this.state.imgUrl?r.a.createElement("img",{src:this.state.imgUrl,onClick:this.toggleUploadDropzone,alt:"User"}):r.a.createElement(St.a,{onClick:this.toggleUploadDropzone,className:"user-details-avatar",style:{width:"144px",height:"144px"}},this.getInitials(this.state.fullName)))),r.a.createElement("div",{className:"user-details-container"},r.a.createElement("h5",null,this.state.username),r.a.createElement("div",null,this.state.fullName)))),r.a.createElement("button",{className:"logout-btn",onClick:this.props.onLogout},"Log out")):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),Gn={updateUser:function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SET_USER",loggedInUser:e}),t.next=3,Z.default.update(e);case 3:Z.default.updateUserInLocalStorage(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},zn=Object(i.b)((function(e){return{user:e.userReducer.user}}),Gn)(Rn),Qn=a(884),Wn=a(335),Jn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedBoard:null,boards:null,activities:null},e.onChange=function(t){var a=t.target.value;"All"===a?e.setState({selectedBoard:null}):e.setState({selectedBoard:a})},e.getActivitiesFromProps=function(){if(e.props.activities){var t=e.props.activities.map((function(e){return e.activity}));e.setState({activities:t},(function(){e.getBoardList()}))}},e.getBoardList=function(){var t={};e.props.activities.forEach((function(e){t[e.board.id]=e.board}));var a=Object.values(t);e.setState({boards:a})},e.getFilteredActivites=function(){return e.state.selectedBoard?e.state.activities.filter((function(t){return t.boardId===e.state.selectedBoard})):e.state.activities},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getActivitiesFromProps()}},{key:"componentDidUpdate",value:function(e,t){e.activities!==this.props.activities&&this.getActivitiesFromProps()}},{key:"render",value:function(){return this.state.boards?r.a.createElement("div",{className:"user-activities"},r.a.createElement("div",{className:"board-filter"},r.a.createElement(Qn.a,{id:"board-filter"},"Filter by board"),r.a.createElement(Wn.a,{id:"board-filter",onChange:this.onChange,label:"Filter by board"},r.a.createElement("option",{value:"All"},"All"),this.state.boards.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.title)})))),r.a.createElement("div",{className:"activity-log-container"},r.a.createElement(ie,{activities:this.getFilteredActivites(),displayMode:"user"}))):r.a.createElement(E.a,null)}}]),a}(n.Component);function qn(e){var t=e.board,a=e.cards,n=e.groups,o=e.displayArchived,c=e.onSelectBoard;return!o&&t.isArchived?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"user-board",style:{backgroundImage:t.style.bgImg}},r.a.createElement("div",{className:"user-board-header",style:{color:t.style.fontClr}},r.a.createElement("h3",null,t.title)),r.a.createElement("div",{className:"user-cards-preview"},a&&a.length?a.map((function(e,a){var o=new Date(e.createdAt);return r.a.createElement("div",{key:e.id,onClick:function(){return c("/board/".concat(t.id,"/").concat(e.id))},className:"user-card-preview"},r.a.createElement("div",{className:"user-card-header"},r.a.createElement("div",null,r.a.createElement("h5",null,e.title)),r.a.createElement("div",null,r.a.createElement("small",null,"In group ",n[a].title))),r.a.createElement("div",{className:"user-card-details"},r.a.createElement("div",null,e.description),r.a.createElement("div",null,"Created at ",o.toLocaleString()),e.dueDate?r.a.createElement("div",null,"Card due by ",e.dueDate):r.a.createElement(r.a.Fragment,null)))})):r.a.createElement("div",{className:"user-cards-none"},"No cards assigned to you in this boards ")))}var Vn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={displayArchived:!1},e.onSelectBoard=function(t){e.props.onCloseUserDetails(),e.props.history.push(t)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;if(!this.props.userData)return r.a.createElement(E.a,null);var t=this.props.userData;return r.a.createElement("div",{className:"user-cards-container"},r.a.createElement("div",{className:"user-boards"},t.length?t.map((function(t,a){return r.a.createElement(qn,{key:a,onSelectBoard:e.onSelectBoard,board:t.board,displayArchived:e.state.displayArchived,cards:t.cards,groups:t.groups})})):r.a.createElement(r.a.Fragment,null)))}}]),a}(n.Component),Yn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={view:0,loggedInUser:null,userData:null,activities:null},e.setView=function(t){var a=Math.round(t);e.setState({view:a})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this),e.next=3,Z.default.getLoggedInUser();case 3:t=e.sent,this.setState({loggedInUser:t},Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.default.getUserDetails();case 2:t=e.sent,a.setState({userData:t.userData,activities:t.userActivities});case 4:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"users-container"},r.a.createElement(xn.a,{className:"home-nav",value:this.state.view,onChange:function(t,a){e.setView(a)},showLabels:!0},r.a.createElement(Un.a,{label:"Details",icon:r.a.createElement(Fn.a,null)}),r.a.createElement(Un.a,{label:"Cards",icon:r.a.createElement(In.a,null)}),r.a.createElement(Un.a,{label:"Activities",icon:r.a.createElement(Da.a,null)})),r.a.createElement(Mn.a,{onSwitching:this.setView,index:this.state.view,containerStyle:{height:"100vh"}},r.a.createElement(zn,{loggedInUser:this.state.loggedInUser,onLogout:this.props.onLogout}),r.a.createElement(Vn,{onCloseUserDetails:this.props.onCloseUserDetails,history:this.props.history,userData:this.state.userData}),r.a.createElement(Jn,{activities:this.state.activities})))}}]),a}(n.Component),Hn=Object(h.f)(Yn),Zn=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isNewBoardModalShown:!1,isLoginDrawerShown:!1,isUserDetailsOpen:!1,loggedInUser:null},e.toggleModal=function(){e.setState({isNewBoardModalShown:!e.state.isNewBoardModalShown})},e.onCloseModal=function(){e.setState({isNewBoardModalShown:!1})},e.redirectPath=function(t){e.props.history.replace("/"),e.props.history.replace("/board/".concat(t)),e.onCloseModal()},e.showLoginDrawer=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.setState({isLoginDrawerShown:!0})},e.hideLoginDrawer=function(t){t&&t.stopPropagation(),e.setState({isLoginDrawerShown:!1})},e.onOpenUserDetails=function(){console.log("open"),e.setState({isUserDetailsOpen:!0})},e.onCloseUserDetails=function(){e.setState({isUserDetailsOpen:!1})},e.onLogout=function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.stopPropagation(),t.next=3,e.props.logout();case 3:e.setState({isUserDetailsOpen:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setState({loggedInUser:Z.default.getLoggedInUser()})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{open:this.state.isUserDetailsOpen,onClose:this.onCloseUserDetails,onBackdropClick:this.onCloseUserDetails},r.a.createElement("div",{className:"user-details-preview-header"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("h6",null,"User Details")),r.a.createElement(W.a,{onClick:this.onCloseUserDetails},r.a.createElement(J.a,null))),r.a.createElement(Hn,{onCloseUserDetails:this.onCloseUserDetails,onLogout:this.onLogout})),r.a.createElement(et.a,{open:this.state.isNewBoardModalShown,onClose:this.onCloseModal,onBackdropClick:this.onCloseModal},r.a.createElement(wn,{onCloseModal:this.onCloseModal,redirectPath:this.redirectPath})),r.a.createElement("div",{className:"navbar-container"},r.a.createElement("div",{className:"navbar-left-container"},r.a.createElement("div",{className:"board-header-btn left"},r.a.createElement(s.c,{to:"/"},r.a.createElement("span",{className:"material-icons"},"home"))),r.a.createElement("div",{className:"board-header-btn left"},r.a.createElement(s.c,{to:"/board"},r.a.createElement("span",{className:"material-icons"},"view_list"),r.a.createElement("h4",{className:"boards-text"},"Boards")))),r.a.createElement("div",{className:"header-logo"},r.a.createElement("img",{src:An.a,alt:"best logo ever"})),r.a.createElement("div",{className:"navbar-right-container"},r.a.createElement("div",{className:"board-header-btn right",onClick:this.toggleModal},r.a.createElement("span",{className:"material-icons"},"add")),this.props.loggedInUser?"":r.a.createElement("div",{className:"board-header-btn login right",onClick:this.showLoginDrawer},r.a.createElement("h4",{className:"login-text"},"Login")),this.props.loggedInUser?r.a.createElement("div",{onClick:this.onOpenUserDetails,className:"member-preview-header-container"},r.a.createElement(C,{name:this.props.loggedInUser.fullName,imgUrl:this.props.loggedInUser.imgUrl})):r.a.createElement(r.a.Fragment,null),r.a.createElement(Bn,{isShowing:this.state.isLoginDrawerShown,hideLoginDrawer:this.hideLoginDrawer}))))}}]),a}(n.Component),Kn={loadUser:K,logout:function(e){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.default.logout();case 3:t({type:"SET_USER",loggedInUser:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error on logout");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}},Xn=Object(i.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),Kn)(Zn);a(307);function _n(e){return r.a.createElement("div",null,r.a.createElement(It.a,null))}var $n=a(179),er=a.n($n),tr=a(180),ar=a.n(tr),nr=a(181),rr=a.n(nr),or=a.p+"static/media/yaron.4f915c8a.jpeg",cr=a.p+"static/media/elad2.b22a3fd9.jpeg",ir=a.p+"static/media/daniel.fc8abaf5.jpg",sr=a(735);function lr(e){return r.a.createElement("div",{className:"main-screen"},r.a.createElement("section",{className:"home"},r.a.createElement("div",{className:"bg"},r.a.createElement("div",{className:"bg-overlay"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"welcome"},r.a.createElement("h1",null,"Welcome To"),r.a.createElement("span",null,r.a.createElement("img",{src:sr,alt:"logo"}),r.a.createElement("h1",null,"!")))),r.a.createElement("p",null,"Opus is a beautiful Kanban style project managment software prefect for keeping track of teams' progress"),r.a.createElement("div",{onClick:function(){return e.history.push("/board")},className:"main-screen-cta"},"See a Demo")))),r.a.createElement("section",{className:"team"},r.a.createElement("div",{className:"text"},r.a.createElement("h2",null,"Work as a team"),r.a.createElement("p",null,"Use Opus' advanced features to assign and keep track of your team's efforts")),r.a.createElement("div",{className:"img"})),r.a.createElement("section",{className:"info"},r.a.createElement("div",{className:"img"}),r.a.createElement("div",{className:"text"},r.a.createElement("h2",null,"Get detailed information"),r.a.createElement("p",null,"You can use Opus to specify what every task entails, and make sure everyone is synced"))),r.a.createElement("section",{className:"data"},r.a.createElement("div",{className:"text"},r.a.createElement("h2",null,"Better understand your progress"),r.a.createElement("p",null,"Use Opus' extensive data modeling tools to get a glimpse on how your team is doing")),r.a.createElement("div",{className:"img"})),r.a.createElement("section",{className:"last-cta"},r.a.createElement("div",{className:"img"}),r.a.createElement("div",{className:"text"},r.a.createElement("h2",null,"What are you waiting for?"),r.a.createElement("div",{onClick:function(){return e.history.push("/board")},className:"cta"},"View the demo now"))),r.a.createElement("section",{className:"about"},r.a.createElement("div",{className:"about-intro"},r.a.createElement("h2",null,"Meet the Team"),r.a.createElement("p",null,"We are 3 of MisterBit\xa9 Coding Academy alumni that came together and assembled ",r.a.createElement("b",null,"OPUS")," as our Full-Stack Developer course's final hand-in.")),r.a.createElement("div",{className:"about-cards-container"},r.a.createElement("div",{className:"about-card"},r.a.createElement("div",{className:"photo"},r.a.createElement("img",{src:or,alt:"Yaron"})),r.a.createElement("h3",null,"Yaron Lipshitz"),r.a.createElement("p",null,"A jack of all trades with a large scope of experience in different fields. ",r.a.createElement("br",null),"Let's chat about your next project!"),r.a.createElement("div",{className:"links-container"},r.a.createElement("a",{href:"https://www.facebook.com/yaron.lipshitz.1/",target:"blank"},r.a.createElement(er.a,{className:"facebook-icon"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/yaron-lipshitz-1855bb79/",target:"blank"},r.a.createElement(ar.a,{className:"linkedin-icon"})),r.a.createElement("a",{href:"mailto:lipshitzyaron@gmail.com",target:"blank"},r.a.createElement(rr.a,{className:"mail-icon"})))),r.a.createElement("div",{className:"about-card"},r.a.createElement("div",{className:"photo"},r.a.createElement("img",{src:cr,alt:"Elad"})),r.a.createElement("h3",null,"Elad Becker"),r.a.createElement("p",null,"Full-Stack Developer",r.a.createElement("br",null),"Former IDF Intelligence Officer (Maj.)",r.a.createElement("br",null),"Whiskey Enthusiast"),r.a.createElement("div",{className:"links-container"},r.a.createElement("a",{href:"https://www.facebook.com/elad.becker",target:"blank"},r.a.createElement(er.a,{className:"facebook-icon"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/elad-becker-13b4921a6/",target:"blank"},r.a.createElement(ar.a,{className:"linkedin-icon"})),r.a.createElement("a",{href:"mailto:Becker.Elad@gmail.com"},r.a.createElement(rr.a,{className:"mail-icon"})))),r.a.createElement("div",{className:"about-card"},r.a.createElement("div",{className:"photo"},r.a.createElement("img",{src:ir,alt:"Daniel",className:"daniel"})),r.a.createElement("h3",null,"Daniel Dante"),r.a.createElement("p",null,"Former senior product designer, experienced in UI and UX,",r.a.createElement("br",null),"user-interaction and animation"),r.a.createElement("div",{className:"links-container"},r.a.createElement("a",{href:"https://www.facebook.com/daniel.dante.528",target:"blank"},r.a.createElement(er.a,{className:"facebook-icon"})),r.a.createElement("a",{href:"linkedin.com/in/daniel-dante-61889b184",target:"blank"},r.a.createElement(ar.a,{className:"linkedin-icon"})),r.a.createElement("a",{href:"mailto:daniel91dante@gmail.com",target:"blank"},r.a.createElement(rr.a,{className:"mail-icon"})))))))}var ur=a(903);function dr(e){var t=e.board;if(t.isArchived&&!e.displayArchived)return r.a.createElement(r.a.Fragment,null);var a,n=new Date(t.createdAt).toDateString();try{a=new Date(t.activities[0].createdAt).toDateString()||"1123"}catch(o){a=n}return r.a.createElement("div",{className:"board-preview"},r.a.createElement("div",{className:"board-image",onClick:function(){return e.onSelect(t._id)},style:{backgroundImage:t.style.bgImg,backgroundColor:t.style.boardColor}},r.a.createElement("div",{className:"remove",onClick:function(a){a.stopPropagation(),e.onRemove(t._id)}},r.a.createElement(it.a,{size:"small"})),r.a.createElement("div",{className:"board-overlay"},r.a.createElement("h3",{style:{color:t.style.fontClr}},t.title))),r.a.createElement("div",{className:"board-details"},r.a.createElement("div",{className:"board-description"},t.description),r.a.createElement("div",{className:"board-members"},t.members.map((function(e,t){return r.a.createElement(C,{key:t,name:e.fullName,imgUrl:e.imgUrl})}))),t.createdAt&&t.createdBy?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"board-creator"},"Board created by ",t.createdBy.fullName," on ",n),r.a.createElement("div",{className:"board-last-edited"},"Last edited on ",a)):r.a.createElement(r.a.Fragment,null)))}var pr=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.setDefaultStyle()}},{key:"render",value:function(){var e=this;return!this.props.boards||this.props.isLoading?r.a.createElement("div",{className:"board-hub"},r.a.createElement("div",{className:"circular-progress-container"},r.a.createElement(E.a,null))):r.a.createElement("div",{className:"board-hub"},r.a.createElement("header",null,r.a.createElement("h1",null,this.props.header)),r.a.createElement("section",null,this.props.createBoard?r.a.createElement("div",{className:"new-board-placeholder",onClick:this.props.onAddBoard},r.a.createElement("div",{className:"fake-board"},r.a.createElement(aa.a,null)),r.a.createElement("div",{className:"board-description"},"Add new board")):r.a.createElement(r.a.Fragment,null),this.props.boards.map((function(t){return r.a.createElement(dr,{key:t._id,onRemove:e.props.onRemove,history:e.props.history,onSelect:e.props.onSelect,board:t})}))))}}]),a}(n.Component),mr={setDefaultStyle:L},fr=Object(i.b)((function(e){return{board:e.boardReducer.board}}),mr)(pr),hr=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={templatesPage:0,boardsPage:0,boardsPerPage:2,templatesPerPage:3,totalBoardPages:1,totalTemplatePages:1,boards:null,templates:null,templateLoading:!1,selectedTemplate:null,isCreateTemplateOpen:!1,isLoading:!1,isCreateBoardOpen:!1},e.getBoards=Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.query({filter:{isArchived:!1},limit:e.state.boardsPerPage,skip:e.state.boardsPage*e.state.boardsPerPage});case 2:return a=t.sent,n=Math.ceil(a.boardSize/e.state.boardsPerPage),e.setState({boards:a.boards,totalBoardPages:n}),t.abrupt("return",Promise.resolve());case 6:case"end":return t.stop()}}),t)}))),e.getTemplates=Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tn.query({limit:e.state.templatesPerPage,skip:e.state.templatesPage*e.state.templatesPerPage});case 2:return a=t.sent,n=Math.ceil(a.templateSize/e.state.templatesPerPage),e.setState({templates:a.templates,totalTemplatePages:n}),t.abrupt("return",Promise.resolve());case 6:case"end":return t.stop()}}),t)}))),e.onSelectBoard=function(t){e.props.history.push("/board/".concat(t))},e.onSelectTemplate=function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({selectedTemplate:a,isCreateTemplateOpen:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onCloseCreateTemplate=function(){e.setState({selectedTemplate:null,isCreateTemplateOpen:!1})},e.onCreateBoardFromTemplate=function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({templateLoading:!0},Object(v.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tn.createBoardFromTemplate(e.state.selectedTemplate,a);case 2:n=t.sent,e.setState({templateLoading:!1}),e.props.history.push("board/".concat(n));case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRemoveBoard=function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isLoading:!0},Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.archiveBoard(a);case 2:return t.next=4,e.getBoards();case 4:e.setState({isLoading:!1});case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRemoveTemplate=function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isLoading:!0},Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tn.remove(a);case 2:return t.next=4,e.getTemplates();case 4:e.setState({isLoading:!1});case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeTemplatePage=function(t,a){e.setState({templatesPage:a-1})},e.onChangeBoardPage=function(t,a){e.setState({boardsPage:a-1})},e.onSubmit=function(t){t.preventDefault(),e.onCreateBoardFromTemplate(t.target[0].value)},e.onRedirect=function(t){e.onCloseCreateBoard(),e.props.history.push("/board/".concat(t))},e.onOpenCreateBoard=function(){e.setState({isCreateBoardOpen:!0})},e.onCloseCreateBoard=function(){e.setState({isCreateBoardOpen:!1})},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.boardsPage!==this.state.boardsPage&&this.getBoards(),t.templatesPage!==this.state.templatesPage&&this.getTemplates()}},{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBoards();case 2:this.getTemplates();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{onClose:this.onCloseCreateBoard,onBackdropClick:this.onCloseCreateBoard,open:this.state.isCreateBoardOpen,className:"add-board-modal"},r.a.createElement(wn,{onCloseModal:this.onCloseCreateBoard,redirectPath:this.onRedirect})),r.a.createElement(et.a,{onClose:this.onCloseCreateTemplate,onBackdropClick:this.onCloseCreateTemplate,open:this.state.isCreateTemplateOpen},r.a.createElement("div",{className:"create-board-from-template-container"},r.a.createElement("div",{className:"create-board-header"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("h6",null,"Create Board")),r.a.createElement(W.a,{onClick:this.onCloseCreateTemplate},r.a.createElement(J.a,null))),r.a.createElement("div",{className:"form-container"},r.a.createElement("span",null,"Enter a name for your board"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"title",type:"text"}),r.a.createElement("button",{className:"save-btn"},"Create"))))),r.a.createElement("div",{className:"board-selector"},r.a.createElement("section",{className:"boards"},r.a.createElement(fr,{boards:this.state.boards,createBoard:!0,onAddBoard:this.onOpenCreateBoard,onSelect:this.onSelectBoard,onRemove:this.onRemoveBoard,header:"Boards"}),r.a.createElement(ur.a,{count:this.state.totalBoardPages,defaultPage:1,onChange:this.onChangeBoardPage,shape:"rounded"})),r.a.createElement("section",{className:"templates"},r.a.createElement(fr,{boards:this.state.templates,onSelect:this.onSelectTemplate,onRemove:this.onRemoveTemplate,isLoading:this.state.templateLoading,header:"Templates"}),r.a.createElement(ur.a,{count:this.state.totalTemplatePages,defaultPage:1,onChange:this.onChangeTemplatePage,shape:"rounded"}))))}}]),a}(n.Component),br=a(133),gr=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getRndHexColor=function(){return"#"+(1048575*Math.random()*1e6).toString(16).slice(0,6)},e.getDataForChart=function(t){var a=Object.keys(t).map((function(t){return e.getRndHexColor()}));return{labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:a,hoverBackgroundColor:a}]}},e.dashboardNumbers=function(e){if(e&&e.members&&e.groups){var t=e.members.length,a=0,n=0;e.groups.forEach((function(e){var t=e.cards.filter((function(e){return e.archivedAt}));n+=t.length,a+=e.cards.length-t.length}));var r=e.groups.reduce((function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t.cards))}),[]).reduce((function(e,t){return t.checklists?(t.checklists.forEach((function(t){t.todos.forEach((function(t){t.isDone&&e.checked++,e.total++}))})),e):e}),{checked:0,total:0});return r.checked/r.total>.75&&(r.colorClass="todos-green"),r.checked/r.total<=.5&&(r.colorClass="todos-red"),console.log(r),{numOfMembers:t,archivedCardsCount:n,unarchivedCardsCount:a,todosCount:r}}},e.cardsByGroups=function(t){if(t){var a=t.reduce((function(e,t){var a=t.cards.filter((function(e){return!e.archivedAt}));return e[t.title]=a.length,e}),{});return e.getDataForChart(a)}},e.cardsByMembers=function(t){if(t.members){var a=t.members.reduce((function(e,a){for(var n=0,r=0;r<t.groups.length;r++)for(var o=t.groups[r].cards.filter((function(e){return!e.archivedAt})),c=0;c<o.length;c++)o[c].members.some((function(e){return e._id===a._id}))&&n++;return e[a.fullName]=n,e}),{});return{data:e.getDataForChart(a),options:{legend:{display:!1},scales:{xAxes:[{ticks:{beginAtZero:!0,min:0}}]}}}}},e.timeInGroups=function(e){if(e){var t=e.reduce((function(e,t){return e[t.id]=t.title,e}),{}),a=e.reduce((function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t.cards))}),[]),n=(a=a.filter((function(e){return!e.archivedAt}))).reduce((function(e,a){if(!a.timeAnalysis||!a.timeAnalysis.currGroup)return e;var n=t[a.timeAnalysis.currGroup.groupId];e[n]={};var r=Date.now()-a.timeAnalysis.currGroup.enteredAt;if(e[n].time=e[n].time?e[n].time+r:r,e[n].count=e[n].count?e[n].count+1:1,!a.timeAnalysis.timeInGroupsMap)return e;for(var o in a.timeAnalysis.timeInGroupsMap){var c=t[o];e[c]=e[c]?e[c]:{};var i=a.timeAnalysis.timeInGroupsMap[o];e[c].time=e[c].time?e[c].time+i:i,e[c].count=e[c].count?e[c].count+1:1}return e}),{}),r=Object.keys(n).map((function(e){return(n[e].time/36e5/n[e].count).toFixed(2)})),o=Object.keys(n).map((function(e){return(n[e].time/36e5).toFixed(2)})),c="#40d0e0",i="#008493";return{data:{labels:Object.keys(n),datasets:[{label:"Average time in group (Hrs)",type:"line",data:r,fill:!1,borderColor:c,pointBorderColor:c,pointBackgroundColor:c,pointHoverBackgroundColor:c,pointHoverBorderColor:c,yAxisID:"y-axis-1"},{type:"bar",label:"Total hours in Group (Hrs)",data:o,fill:!1,backgroundColor:i,borderColor:i,hoverBackgroundColor:i,hoverBorderColor:i,yAxisID:"y-axis-1"}]},options:{responsive:!0,tooltips:{mode:"label"},elements:{line:{fill:!1}},scales:{xAxes:[{display:!0,gridLines:{display:!0}}],yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",gridLines:{display:!1},labels:{show:!0}}]}}}}},e.cardsByLabels=function(e,t){if(e&&t){var a={green:"#61BD4F",yellow:"#F2D600",orange:"#FF9F1A",red:"#EB5A46",purple:"#C377E0",blue:"#028ad8",grey:"#a7a7a7",black:"#202020"},n=e.reduce((function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t.cards))}),[]);n=n.filter((function(e){return!e.archivedAt}));var r=t.reduce((function(e,t){var a=0;return n.forEach((function(e){e.labels.some((function(e){return e.id===t.id}))&&a++})),e[t.id]={name:t.name,color:t.color,count:a},e}),{});return{data:{labels:Object.keys(r).map((function(e){return r[e].name})),datasets:[{borderWidth:1,backgroundColor:Object.keys(r).map((function(e){return a[r[e].color]})),strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:Object.keys(r).map((function(e){return r[e].count}))}]},options:{legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0,min:0}}]}}}}},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,this.props.loadBoard(t);case 4:this.props.setStyle(this.props.board.style),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),It.b.error("Oops! we seem to be missing the board you're looking for. going back to board selection.",{position:"bottom-right",autoClose:3500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){a.props.history.push("/board")}),1e3);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.board,a=e.style;if(!t)return r.a.createElement("div",null,"Loading...");var n=this.dashboardNumbers(t),o=this.cardsByGroups(t.groups),c=this.cardsByMembers(t),i=this.timeInGroups(t.groups),s=this.cardsByLabels(t.groups,t.labels);return t?r.a.createElement("div",{className:"page-container"},r.a.createElement("h2",{style:{color:a.fontClr}},t.title," - Data Analysis"),r.a.createElement("div",{className:"analysis-dashboard-container"},n&&r.a.createElement("div",{className:"chart-container summary-numbers-conatiner"},r.a.createElement("div",null,r.a.createElement("h3",null,n.numOfMembers),r.a.createElement("span",null,"Total Members")),r.a.createElement("div",null,r.a.createElement("h3",null,n.unarchivedCardsCount,r.a.createElement("span",{className:"total"}," (".concat(n.archivedCardsCount," archived)"))),r.a.createElement("span",null,"Cards On Board")),r.a.createElement("div",null,r.a.createElement("h3",{className:n.todosCount.colorClass},"".concat(n.todosCount.checked),r.a.createElement("span",{className:"total"}," /".concat(n.todosCount.total))),r.a.createElement("span",null,"To-Dos Checked"))),o&&r.a.createElement("div",{className:"chart-container cards-by-group-container"},r.a.createElement("h3",null,"Cards Per Group"),r.a.createElement(br.Doughnut,{data:o})),c&&r.a.createElement("div",{className:"chart-container cards-by-member-container"},r.a.createElement("h3",null,"Cards Per Member"),r.a.createElement(br.HorizontalBar,{data:c.data,options:c.options})),i&&r.a.createElement("div",{className:"chart-container time-in-groups-container"},r.a.createElement("h3",null,"Groups' Time Analysis"),r.a.createElement(br.Bar,{data:i.data,options:i.options})),s&&r.a.createElement("div",{className:"chart-container cards-by-labels-container"},r.a.createElement("h3",null,"Labels Summary"),r.a.createElement(br.Bar,{data:s.data,options:s.options})))):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component),vr={loadBoard:N,setStyle:M},Er=Object(i.b)((function(e){return{board:e.boardReducer.board,style:e.boardReducer.style}}),vr)(gr),yr=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onDragStart=function(){e.props.resetFilterBy(e.props.board._id)},e.onDragEnd=function(t){var a=t.destination,n=t.source,r=t.draggableId,o=t.type;if(a&&(a.droppableId!==n.droppableId||a.index!==n.index)&&r){if("card"===o){var c=e.props.board.groups.findIndex((function(e){return e.id===n.droppableId})),i=e.props.board.groups.findIndex((function(e){return e.id===a.droppableId}));if(n.droppableId===a.droppableId){var s=e.props.board.groups.find((function(e){return e.id===n.droppableId})),d=s.cards.find((function(e){return e.id===r})),p=Array.from(s.cards);p.splice(n.index,1),p.splice(a.index,0,d);var m=Object(u.a)(Object(u.a)({},s),{},{cards:p}),f=Object(l.a)(e.props.board.groups);f[c]=m;var h=Object(u.a)(Object(u.a)({},e.props.board),{},{groups:f});return void e.props.updatePosition(h)}if(n.droppableId!==a.droppableId){var b=e.props.board.groups.find((function(e){return e.id===a.droppableId})),g=e.props.board.groups.find((function(e){return e.id===n.droppableId})),v=g.cards.find((function(e){return e.id===r})),E=g.cards.findIndex((function(e){return e.id===r})),y=Array.from(b.cards),C=v.timeAnalysis;C&&(C.timeInGroupsMap[C.currGroup.groupId]=C.timeInGroupsMap[C.currGroup.groupId]+(Date.now()-C.currGroup.enteredAt)||Date.now()-C.currGroup.enteredAt,C.currGroup={groupId:b.id,enteredAt:Date.now()}),y.splice(a.index,0,v),g.cards.splice(E,1);var w=Object(l.a)(e.props.board.groups);w[c]=g,w[i].cards=y;var O=Object(u.a)(Object(u.a)({},e.props.board),{},{groups:w});e.props.updatePosition(O,r);var A=k.a.getCardTitleById(r,O),N={txt:"moved the card",commentTxt:"",card:{id:r,title:A}},S=k.a.createActivity(N);return void e.props.addActivity(O,S)}}if("group"!==o);else{var D=Array.from(e.props.board.groups),j=e.props.board.groups.find((function(e){return e.id===r}));D.splice(n.index,1),D.splice(a.index,0,j);var B=Object(u.a)(Object(u.a)({},e.props.board),{},{groups:D});e.props.updatePosition(B)}}},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){Z.default.loginDefault(),It.b.configure()}},{key:"render",value:function(){var e=this.props.style;return this.props.style?r.a.createElement(Ht.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},r.a.createElement("div",{className:"app-bg",style:this.props.style.bgImg?{backgroundImage:e.bgImg,backgroundPosition:"center"}:{backgroundColor:e.boardColor,backgroundPosition:"center"}},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(h.a,{path:"/",component:Xn})),r.a.createElement("main",{className:"app-main"},r.a.createElement(_n,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/analysis/:id/",component:Er}),r.a.createElement(h.a,{path:"/board/:id/:cardId?",component:gn}),r.a.createElement(h.a,{path:"/board",component:hr}),r.a.createElement(h.a,{component:lr,path:"/"})))))):r.a.createElement("div",null,"loading")}}]),a}(n.Component),Cr={updateBoard:T,updatePosition:function(e,t){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SET_BOARD",board:e}),n=JSON.parse(JSON.stringify(e)),t.next=5,k.a.updateBoard(n);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error updating board",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},resetFilterBy:function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.getBoardById(e);case 2:n=t.sent,a({type:"SET_BOARD",board:n}),a({type:"RESET_FILTER_BY"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addActivity:S},wr=Object(i.b)((function(e){return{board:e.boardReducer.board,style:e.boardReducer.style,filterBy:e.boardReducer.filterBy}}),Cr)(yr);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Or=a(45),Ar=a(368),kr={board:{},filterBy:null,style:{},fullLabel:!1},Nr={backgroundImage:null},Sr={loggedInUser:sessionStorage.user?JSON.parse(sessionStorage.user):null,users:[]},Dr=Object(Or.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":var a=t.loggedInUser;return Object(u.a)(Object(u.a)({},e),{},{loggedInUser:a});case"USER_REMOVE":return Object(u.a)(Object(u.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:t.users});default:return e}},boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_BOARD":return Object(u.a)(Object(u.a)({},e),{},{board:t.board});case"FILTER_BY":return Object(u.a)(Object(u.a)({},e),{},{filterBy:t});case"TOGGLE_FULL_LABEL":return e.fullLabel?Object(u.a)(Object(u.a)({},e),{},{fullLabel:!1}):Object(u.a)(Object(u.a)({},e),{},{fullLabel:!0});case"SET_STYLE":return Object(u.a)(Object(u.a)({},e),{},{style:t.style});case"SET_DEFAULT_STYLE":return Object(u.a)(Object(u.a)({},e),{},{style:Nr});case"RESET_FILTER_BY":return Object(u.a)(Object(u.a)({},e),{},{filterBy:null});default:return e}}}),jr=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Or.d,Br=Object(Or.e)(Dr,jr(Object(Or.a)(Ar.a)));c.a.render(r.a.createElement(i.a,{store:Br},r.a.createElement(s.a,null,r.a.createElement(wr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[382,1,2]]]);
//# sourceMappingURL=main.fffbb6a4.chunk.js.map